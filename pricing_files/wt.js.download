(function(_window,_document,_navigator,_location){function _WT(_window,_document,_navigator,_location){this.Debug=null;this.s_pollInterval=4;this.s_pollTimeoutCount=100;this.g_inHead=false;this.s_jsonLoaded=true;this.g_loaderAborted=false;var wtSelf=this;var version={major:1,minor:0,inc:0};var s_selector="sizzle";this.optimize={};this.optimize.g_hasEmptySetup=false;this.optimize.g_IsLibLoading=false;this.optimize.g_Aborted=false;this.optimize.g_RunObjList=[];this.optimize.g_ParamsList=[];this.optimize.g_ConfigParams=
{};this.optimize.g_ConfigLoaded=false;this.optimize.g_PageTimer=null;this.optimize.g_PageStartTime=null;this.optimize.g_PageEndTime=null;this.optimize.g_OnLoad=false;this.optimize.g_done=false;this.optimize._ctor=function(){this.g_ConfigParams["s_keyToken"]="fbb55294ea4d20d2f8cddd1f1b12bbb4f93b03c39803";this.g_ConfigParams["s_domainKey"]="2384149";this.g_ConfigParams["s_capiMajorVersion"]="5";this.g_ConfigParams["s_capiMinorVersion"]="3";this.g_ConfigParams["s_capiIncVersion"]="0";this.g_ConfigParams["s_capiDebug"]=
"false"=="true";this.g_ConfigParams["s_allowCapiConfig"]=typeof _wt_allowCapiConfig=="undefined"?false:_wt_allowCapiConfig;this.g_ConfigParams["s_capiConfigFile"]="wtopt.config.js";this.g_ConfigParams["s_capiConfigSearchPath"]=typeof _wt_capiConfigSearchPath=="undefined"?["","/"]:_wt_capiConfigSearchPath;this.g_ConfigParams["s_pageProtocol"]=typeof _wt_forceSSL=="undefined"||!_wt_forceSSL?document.location.protocol=="https:"?"https":"http":"https";this.g_ConfigParams["s_otsServer"]="ots.webtrends-optimize.com";
this.g_ConfigParams["s_otsCDNServer"]="cdn.ots.webtrends-optimize.com";this.g_ConfigParams["s_wasServer"]="http://was.dca.wtopt.local";this.g_ConfigParams["s_otsWebApp"]="/ots";this.g_ConfigParams["s_otsWebAppServlet"]="/ots";this.g_ConfigParams["s_otsVersion"]="5.0";this.g_ConfigParams["s_eventHandlers"]={};this.g_ConfigParams["enableCORS"]=true;this.g_ConfigParams["s_scriptServer"]=this.g_ConfigParams["s_otsCDNServer"]==""?this.g_ConfigParams["s_otsServer"]+this.g_ConfigParams["s_otsWebApp"]+"/lib/":
this.g_ConfigParams["s_otsCDNServer"];this.g_ConfigParams["s_otsDebuggerLibUrl"]="//c.webtrends-optimize.com/acs/common/js/5.4/wt_debugger.js";this.g_ConfigParams["s_otsLibUrl"]="//c.webtrends-optimize.com/acs/common/js/5.4/wt_lib.js";this.g_ConfigParams["s_commonUrl"]="//c.webtrends-optimize.com/acs/common/js/5.4/common.js";this.g_ConfigParams["s_json2"]="//c.webtrends-optimize.com/acs/common/js/5.4/json2.js";this.g_ConfigParams["s_sizzle"]="//c.webtrends-optimize.com/acs/common/js/5.4/sizzle.min.js";
this.g_ConfigParams["s_version"]="Protocol: "+this.g_ConfigParams["s_capiMajorVersion"]+"."+this.g_ConfigParams["s_capiMinorVersion"]+"."+this.g_ConfigParams["s_capiIncVersion"];this.g_ConfigParams["s_loaderHide"]=true;this.g_ConfigParams["s_accountRootUrl"]="//c.webtrends-optimize.com/acs/accounts";this.g_ConfigParams["s_accountGuid"]="b8394319-b42f-4053-aabc-fa17f878328d";var onload=function(){if(WT.optimize.g_OnLoad)return;WT.optimize.g_OnLoad=true;WT._fireEvent(new WTEvent(WTEvent.DOM_ONLOAD,
WTEvent.STATUS_SUCCESS))};if(window.addEventListener)window.addEventListener("load",function(){window.removeEventListener("load",arguments.callee,false);wtSelf.Debug.trace("capi: onload fired");onload()},false);else if(window.attachEvent)window.attachEvent("onload",function(){window.detachEvent("onload",arguments.callee,false);wtSelf.Debug.trace("capi: onload fired");onload()});wtSelf.addEventHandler(WTEvent.ABORT,this._abort,this._abort);wtSelf.addEventHandler(WTEvent.TIMER,this._timerExpired,this._timerExpired);
if(this.g_ConfigParams["s_allowCapiConfig"])_loadCapiConfig();else this.g_ConfigLoaded=true;wtSelf.Debug.info("LOADER:  Version "+[version.major,version.minor,version.inc].join("."))};var _loadCapiConfig=function(){try{var _updateCAPIConfig=function(event){var config=event.target;if(config)for(var key in config)wtSelf.g_ConfigParams[key]=config[key];wtSelf.fireEvent(new WTEvent(WTEvent.CAPI_CONFIG_PROCESSED,WTEvent.STATUS_SUCCESS),true);wtSelf.optimize.g_ConfigLoaded=true};wtSelf.addEventHandler(WTEvent.CAPI_CONFIG,
_updateCAPIConfig);for(var sp=0;sp<this.g_ConfigParams["s_capiConfigSearchPath"].length;++sp){var src=this.g_ConfigParams["s_capiConfigSearchPath"][sp]+this.g_ConfigParams["s_capiConfigFile"];wtSelf.downloadLib("head",null,null,0,true,src)}}catch(e){wtSelf.Debug.error("Unable to load wtop.config file, check error for details.",0,e)}};var _setInHead=function(){try{var scripts=document.getElementsByTagName("script");var currScript=scripts[scripts.length-1];return currScript.parentNode.nodeName=="HEAD"?
true:false}catch(e){WT.Debug.error("inHead: Failed to detect if in head, assuming inHead","001",e);return true}};this.inHead=function(){return this.g_inHead};this.isBodyExtant=function(){try{if(typeof document.getElementsByTagName("body")[0]!="undefined")return true;return false}catch(e){WT.Debug.error("isBodyExtant: body detection fail, assuming false","002",e);return false}};this.getSelector=function(){var SIZZLE="sizzle";switch(s_selector){case SIZZLE:if(typeof Sizzle!=="undefined"&&WT.hasVal(Sizzle))return Sizzle;
else if(typeof WT.Sizzle!=="undefined")return WT.Sizzle;default:WT.Debug.error("getSelector:  No Selector found 003");return null}};this.applyStyleSheet=function(cssRule,styleSheetName){try{var head=document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css";style.id=styleSheetName;var css=cssRule;if(style.styleSheet)style.styleSheet.cssText=css;else style.appendChild(document.createTextNode(css));head.appendChild(style)}catch(e){WT.Debug.error("applyStyleSheet:  Failed to failed to apply stylesheet",
"004",e)}};this.removeStyleSheet=function(styleSheetName){try{var styleSheetElm=document.getElementById(styleSheetName);if(typeof styleSheetElm!=="undefined"&&styleSheetElm!==null)styleSheetElm.parentNode.removeChild(styleSheetElm)}catch(e){WT.Debug.debug("removeStyleSheet:  Failed to remove stylesheet")}};this.hasVal=function(variable){if(variable!==null&&typeof variable!=="undefined")return true;return false};var searchForCookieName=function(cookieName){var cookieArray=document.cookie.split(";");
var cookieValue;for(var i=0;i<cookieArray.length;++i){var c=[];c[0]=cookieArray[i].substring(0,cookieArray[i].indexOf("\x3d"));c[1]=cookieArray[i].substring(cookieArray[i].indexOf("\x3d")+1);while(c[0].charAt(0)===" ")c[0]=c[0].substring(1,c[0].length);if(c[0]==cookieName)return c[1]}return null};var searchMetatagsForName=function(metatagName){var metaArray=document.getElementsByTagName("meta");for(var i=0;i<metaArray.length;++i)if(metaArray[i]["name"]==metatagName)return metaArray[i]["content"];
return null};var registerContext=function(productName,contextName){prodToContextMap[productName]=contextName};var isContextTriggered=function(productName){if(typeof contextTriggerMap!=="undefined"&&typeof products[productName]["contextName"]!=="undefined"&&typeof contextTriggerMap[productName]!=="undefined"&&contextTriggerMap[productName]===products[productName]["contextName"]){WT.Debug.trace("LOADER:  context '"+products[productName]["contextName"]+"' triggered for "+productName);return true}else if(typeof contextTriggerMap===
"undefined"||typeof contextTriggerMap[productName]==="undefined"){WT.Debug.trace("LOADER:  published context triggered for "+productName);return true}return false};var _areCookiesEnabled=function(){if(navigator.cookieEnabled)return true;document.cookie="_wt.areCookiesEnabled\x3dtrue;";var hasCookie=document.cookie.indexOf("_wt.areCookiesEnabled\x3dtrue")>=0;document.cookie="_wt.areCookiesEnabled\x3dtrue; expires\x3d"+(new Date).toGMTString();return hasCookie};this.optimize._capiParams=function(p){var params=
{};var _run=WT.optimize.lookup(p.testAlias);if(WT.optimizeModule&&WT.optimizeModule.prototype.wtConfigObj)params=WT.paramsMerge(this.g_ConfigParams,WT.optimizeModule.prototype.wtConfigObj);else params=this.g_ConfigParams;if(WT.hasVal(_run)&&WT.hasVal(_run["params"])&&!(_run.params.s_requestType==="conversion"&&!_run.params.s_isInternalCV))params=WT.paramsMerge(params,_run["params"]);if(WT.hasVal(p))params=WT.optimize.paramsMerge(params,p);WT.Debug.info("start: Webtrends Optimize CAPI Version: "+params["s_version"]);
if(!_areCookiesEnabled())throw"Cookies are not enabled, Webtrends Optimize is disabled.";var cWrap=params["contentWrapper"];var cWrapEl=null;if(cWrap){cWrapEl=document.getElementById(cWrap);WT.Debug.debug("capiParams: using wrapper ["+cWrap+"] for test alias ["+params["testAlias"]+"]")}else if(params["testAlias"]){WT.Debug.debug("capiParams: ["+cWrap+"] using moniker ["+params["testAlias"]+"]");cWrapEl=document.getElementById(params["testAlias"])}if(document.cookie.indexOf("_wt.debugwindow\x3d")>=
0){var nameEQ=document.cookie.indexOf("_wt.debugwindow\x3d");var ca=document.cookie.split(";");for(var i=0;i<ca.length;++i){var c=ca[i];while(c.charAt(0)==" ")c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0){params["debug"].length=c.substring(nameEQ.length,c.length);params["debug"]=true;break}}}if(params["debug"]&&params["debug"].length>0){WT.Debug._shutdown=false;WT.Debug.debugLevel=params["debug"].length;WT.Debug.refresh(true)}if(!cWrapEl){WT.Debug.debug("capiParams: using body to prepare run.");
cWrapEl=document.body}if(params["s_requestType"]=="conversion"){if(params["r_redirectLink"]){var elm=params["r_redirectLink"];setTimeout(function(){if(elm.wt_pending&&elm.wt_pending=="true"){wtSelf.Debug.info("conversion: timed out - redirecting to url ["+elm.wt_href+"]");elm.href=elm.wt_href;elm.target=elm.wt_target;elm.wt_pending="";if(elm.wt_target&&elm.wt_target!=""&&elm.wt_target!==null)window.open(elm.wt_href,elm.wt_target);else window.location.href=elm.href}},params["s_conversionTimeout"])}}else{if(!this.g_PageTimer){this.g_PageTimer=
setTimeout(function(){WT.fireEvent(new WTEvent(WTEvent.TIMER,WTEvent.STATUS_FAULT,params))},params["s_pageTimeout"]);this.g_PageStartTime=new Date;WT.Debug.info("timer: started ["+this.g_PageStartTime+"].")}else WT.Debug.info("timer: already started, using current timer.");if(params["s_loaderHide"]===false)WT.hideAndShow(cWrapEl,params["s_pageDisplayMode"],false,params["overlayColor"])}WT.fireEvent(new WTEvent(WTEvent.PREPARE,WTEvent.STATUS_SUCCESS,params));return params};this.optimize._initialize=
function(p){try{var params=this._capiParams(p);this.g_ParamsList.push(params);if(typeof WT.optimize.Library=="undefined"){var pr=WT.optimize.g_ParamsList.pop();WT.Debug.error("library: failed to load.");WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT,pr))}else{WT.Debug.debug("initialize: Server Library already loaded, will now prepare optimize.");WT._fireEvent(new WTEvent(WTEvent.INITIALIZE,WTEvent.STATUS_SUCCESS,params));WT.optimize.Library._setupParams(params["testAlias"],params)}}catch(e){WT.Debug.error("initialize: error during framework setup.",
0,e);WT._fireEvent(new WTEvent(WTEvent.INITIALIZE,WTEvent.STATUS_FAULT,params));WT._fireEvent(new WTEvent(WTEvent.ABORT,WTEvent.STATUS_FAULT,params))}};this.startTimer=function(productName,timeOut){if(WT.hasVal(products[productName])){WT.Debug.trace("LOADER:  api starting timer for "+timeOut+" ms on "+productName);var res=WT.hasVal(timeOut)?products[productName]._startTimer(timeOut):products[productName]._startTimer(s_moduleTimeoutDefault)}};this.clearTimer=function(productName){if(products[productName]){WT.Debug.trace("LOADER:  loader clearing timer for "+
productName);products[productName]._clearTimer();WT.fireEvent(new WT.Event(productName+"_"+WT.Event.TIMER_CLEAR,WT.Event.STATUS_SUCCESS))}};this.pollForCondition=function(condition,callbackSuccess,callbackFailure){var timeoutCount=WT.s_pollTimeoutCount;var poll=function(condition,callbackSuccess,callbackFailure,timeoutCount){setTimeout(function(){timeoutCount--;if(condition()){WT.Debug.trace("pollForCondition success result\x3d"+condition());WT.Debug.superfine("pollForCondition success condition\x3d"+
condition.toString());if(callbackSuccess){callbackSuccess();WT.Debug.trace("pollForCondition running callback");WT.Debug.superfine("pollForCondition callback\x3d"+callbackSuccess.toString())}}else if(timeoutCount>0)poll(condition,callbackSuccess,callbackFailure,timeoutCount);else{WT.Debug.error("pollForCondition Fail on "+condition.toString(),"009");if(callbackFailure){callbackFailure();WT.Debug.superfine("pollForCondition callbackFailure\x3d"+callbackFailure.toString())}}},WT.s_pollInterval)};poll(condition,
callbackSuccess,callbackFailure,timeoutCount)};this.paramsMerge=function(existingObj,newObj,overrideObj){var outputObj={};if(wtSelf.hasVal(existingObj))for(var p in existingObj)if(existingObj.hasOwnProperty(p))outputObj[p]=existingObj[p];for(var currParam in newObj)if(wtSelf.hasVal(newObj[currParam])&&newObj.hasOwnProperty(currParam))if(wtSelf.hasVal(overrideObj)&&wtSelf.hasVal(overrideObj[currParam]))outputObj[currParam]=overrideObj[currParam];else outputObj[currParam]=newObj[currParam];return outputObj};
this.optimize.paramsMerge=function(existingObj,newObj,overrideObj){var cWrapEl=existingObj["r_cWrapEl"];existingObj["r_cWrapEl"]=null;var params=WT.paramsMerge(existingObj,newObj,overrideObj);existingObj["r_cWrapEl"]=cWrapEl;params["r_cWrapEl"]=cWrapEl;return params};this.downloadLib=function(elem,successCallback,failCallback,delay,async,src){this.Debug.info("LOADER:  Start download: "+src+" \x26 attach to "+elem+", async\x3d"+async);setTimeout(function(){var el=document.getElementsByTagName(elem)[0];
var script=document.createElement("script");script.type="text/javascript";script.src=src;script.setAttribute("async",async);script.setAttribute("defer",async);script.wtHasRun=false;var successCallbackWrapper=function(){if(this.wtHasRun===false){successCallback();this.wtHasRun=true;WT.Debug.info("Completed download: "+src+", callback running, set wtHasRun\x3d"+this.wtHasRun);WT.Debug.superfine("downloadLib: successCallback\x3d"+successCallback.toString())}else WT.Debug.trace("downloadLib: not running successCallback, since wtHasRun\x3d"+
this.wtHasRun)};if(successCallback){script.onload=successCallbackWrapper;script.onreadystatechange=successCallbackWrapper}var failCallbackWrapper=function(){WT.Debug.error("FAILED download: "+src+" \x26 attach to "+elem+", async\x3d"+async,"010");if(failCallback){failCallback();WT.Debug.superfine("failCallback: "+failCallback.toString())}};script.onerror=failCallbackWrapper;if(typeof el!=="undefined")el.appendChild(script);else this.Debug.info("LOADER:  Dom element: "+elem+" is not found so not Downloading")},
delay)};this.downloadLibs=function(elem,callback,delay,async,srcs){if(typeof srcs==="undefined"){WT.Debug.info("LOADER:  downloadLibs srcs is empty");return}var libStatusMap={};for(var src in srcs)if(srcs.hasOwnProperty(src)){var updateStatusComplete=function(src){return function(){var localVar=src;libStatusMap[localVar]="complete";WT.Debug.trace("LOADER:  downloadLibs is complete src:"+src+" \x3d "+srcs[src])}};libStatusMap[src]="waiting";WT.Debug.trace("LOADER:  downloadLibs is waiting on src:"+
src+" \x3d "+srcs[src]);WT.downloadLib(elem,updateStatusComplete(src),null,delay,async,srcs[src])}var allDownloaded=function(){for(var lib in libStatusMap)if(libStatusMap.hasOwnProperty(lib)&&libStatusMap[lib]!=="complete")return false;return true};var complete=function(){WT.Debug.debug("LOADER:  downloadLibs completed on all downloads");callback()};WT.pollForCondition(allDownloaded,complete)};this.parseQueryString=function(win){var place=win;if(!wtSelf.hasVal(win)||!wtSelf.hasVal(win.location)||
!wtSelf.hasVal(win.location.search))place=document;var parseqS=function(qS){var qP=qS.split("\x26");if(qP!==null&&qP.length===0)qP=qS.split(";");var qpLen=qP.length-1;var dFORM={};for(var i=0;i<=qpLen;++i){var tmpArr=qP[i].split("\x3d");tmpArr[0]=unescape(tmpArr[0]);tmpArr[1]=unescape(tmpArr[1]);tmpArr[0]=tmpArr[0].replace(/\+/g," ");tmpArr[1]=tmpArr[1].replace(/\+/g," ");tmpArr[1]=tmpArr[1].replace(/<.*\?>/g,"");dFORM[tmpArr[0]]=tmpArr[1]}return dFORM};if(place.location.search){var pStr=place.location.search.substring(1,
place.location.search.length);return parseqS(pStr)}else if(place.location.href){var splitArr=place.location.href.split("?");if(splitArr.length===2)return parseqS(splitArr[1]);return null}else return null};this.abortModuleHelper=function(prodName,error){WT.fireEvent(new WT.Event(prodName+"_"+WT.Event.LOADER_MODULE_ABORT,WT.Event.STATUS_SUCCESS));WT.setExecuteState(prodName,WT.Event.LOADER_MODULE_ABORT);WT.clearTimer(prodName);WT.Debug.error("Aborting product: "+prodName,"011");WT.Debug.error("LOADER Error",
"011",error)};this.hideAndShow=function(elm,type,show,color){var g_inHead=this.g_inHead;var s_wtStyleSheetName="wt_StyleSheet";try{if(!wtSelf.hasVal(elm)&&type!="shift"&&!g_inHead||!wtSelf.hasVal(type)||!wtSelf.hasVal(show)){WT.Debug.error("hideAndShow param list incomplete","006");return}var debugString="hideAndShow:  "+(g_inHead?"tag 'inHead'":"tag 'not inHead'")+", "+(show?"showing":"hiding")+" '"+(elm&&elm.nodeName?elm.nodeName:"unnamed elem")+"' with type '"+type+"'";WT.Debug.debug(debugString);
var hideOrShowStyleSheet=function(cssText){if(!show)WT.applyStyleSheet(cssText,s_wtStyleSheetName);else WT.removeStyleSheet(s_wtStyleSheetName)};if(type=="display")if(g_inHead)hideOrShowStyleSheet("body{ display: none !important}");else{elm.style.display=show?"":"none";if(elm!=document.body&&!show)document.body.style.display=""}else if(type=="visibility")if(g_inHead)hideOrShowStyleSheet("body{ visibility: hidden !important}");else{elm.style.visibility=show?"visible":"hidden";elm.style.hidden=!show;
if(elm!=document.body&&!show){document.body.style.visibility="visible";document.body.style.hidden=false}}else if(type=="shift"||type=="supershift")if(!show){var head=document.getElementsByTagName("head")[0];style=document.createElement("style");style.type="text/css";style.id="wt_shiftStyle";var cssRule="body{position:absolute !important; left: -1000% !important;}";if(style.styleSheet)style.styleSheet.cssText="body{position:absolute !important; left: -1000% !important; visibility: hidden}";else style.appendChild(document.createTextNode(cssRule));
head.appendChild(style)}else{if(show){var shiftElm=document.getElementById("wt_shiftStyle");if(shiftElm)shiftElm.parentNode.removeChild(shiftElm)}}else if(type=="overlay"){var overlay=document.getElementById("wt_overlay");var overlayStyle=document.getElementById("wt_overlayStyle");var bgColor=WT.hasVal(color)?color:"#ffffff";if(show&&overlay){overlay.parentNode.removeChild(overlay);if(overlayStyle)overlayStyle.parentNode.removeChild(overlayStyle)}else if(!show&&!overlay){if(g_inHead)WT.Debug.error("hideAndShow:  Warning! wt tag detected in head, overlay mode may error out or cause flickering",
"007");if(!overlayStyle){var overlayCSS=document.createElement("style");overlayCSS.setAttribute("type","text/css");overlayCSS.setAttribute("id","wt_overlayStyle");var cssRuleB="#wt_overlay{position:absolute;width:100%;height:100%;top:0px;right:0px;bottom:0px;left:0px;background-color:"+bgColor+";z-index:2147483646}";if(overlayCSS.styleSheet)overlayCSS.styleSheet.cssText=cssRuleB;else overlayCSS.appendChild(document.createTextNode(cssRuleB));document.getElementsByTagName("head")[0].appendChild(overlayCSS)}if(!WT.hasVal(color)){overlay=
document.createElement("iframe");overlay.frameBorder=0}else overlay=document.createElement("div");overlay.id="wt_overlay";document.getElementsByTagName("body")[0].appendChild(overlay)}}else if(type=="none")WT.Debug.trace("LOADER: type: none");else WT.Debug.debug("hideAndShow did not contain a matching type, so not hiding/showing");var p={};p["displayType"]=type;p["display"]=show;WT.fireEvent(new WTEvent(WTEvent.HIDESHOW,WTEvent.STATUS_SUCCESS,elm,p))}catch(e){WT.Debug.error("Failure in hide/show functionality.  Verify valid HTML syntax",
"008",e)}};this._addDOMEvent=function(elm,event,func){try{if(elm.addEventListener)elm.addEventListener(event,func,false);else if(elm.attachEvent)elm.attachEvent(event,func);else eval("elm."+event+"\x3dfunc;");return 0}catch(e){return-1}};this.optimize._timerExpired=function(event){WT.optimize.g_PageEndTime=new Date;if(WT.optimize.g_PageTimer){clearTimeout(WT.optimize.g_PageTimer);WT.optimize.g_PageTimer=null}WT.Debug.info(event.name+": expired, it took longer than expected. ["+WT.optimize.g_PageEndTime+
"]");WT.optimize._abort(event)};this.optimize._abort=function(event){if(WT.optimize.g_PageTimer){WT.optimize.g_PageEndTime=new Date;clearTimeout(WT.optimize.g_PageTimer);WT.Debug.info(event.name+": clearing active timer ["+WT.optimize.g_PageEndTime+"]");WT.optimize.g_done=true}if(WT.optimize.g_Aborted===false)WT.optimize.g_Aborted=true;else return;var productName=WT.optimizeModule?WT.optimizeModule.ProductName:undefined;if(productName&&WT.getExecuteState(productName)!==WT.Event.LOADER_MODULE_ABORT){WT.fireEvent(new WT.Event(productName+
"_"+WT.Event.LOADER_MODULE_ABORT,WT.Event.STATUS_SUCCESS));WT.setExecuteState(productName,"aborted")}if(event.target&&event.target["r_cWrapEl"]&&!event.target["defaultUrl"]){var cWrapEl=event.target["r_cWrapEl"];wtSelf.hideAndShow(cWrapEl,event.target["s_pageDisplayMode"],true,event.target["overlayColor"])}else if(event.target&&event.target["defaultUrl"]){WT._fireEvent(new WTEvent(WTEvent.DONE,event["state"]));WT.Debug.info(event.name+": redirecting to error url ["+event.target["defaultUrl"]+"]");
document.location.href=event.target["defaultUrl"];return}for(var i=0;i<WT.optimize.g_RunObjList.length;++i){var _r=WT.optimize.g_RunObjList[i];var cWrapEl=_r.params["r_cWrapEl"];if(_r&&cWrapEl&&!_r.params["defaultUrl"])try{wtSelf.hideAndShow(cWrapEl,_r.params["s_pageDisplayMode"],true,_r.params["overlayColor"]);WT.Debug.error(event.name+": render page due to error, check log for more information. [alias: "+_r.params["testAlias"]+", dom id: "+cWrapEl.id+"]",0)}catch(e){WT.Debug.error(event.name+": during abort on a render of a page an error occurred, check log for more information. [alias: "+
_r.params["testAlias"]+", dom id: "+cWrapEl.id+"]",0,e)}else if(_r&&_r.params["defaultUrl"]){WT._fireEvent(new WTEvent(WTEvent.DONE,event["state"]));WT.Debug.info(event.name+": redirecting to error url ["+_r.params["defaultUrl"]+"] for alias ["+_r.params["testAlias"]+"]");document.location.href=_r.params["defaultUrl"];return}}if(!WT.optimize.g_ConfigLoaded)wtSelf.hideAndShow(document.body,this.optimize.g_ConfigParams["s_pageDisplayMode"],true,this.optimize.g_ConfigParams["overlayColor"]);WT._fireEvent(new WTEvent(WTEvent.DONE,
event["state"]))};WTEvent=function(name,state,target,params){if(name)name=name.toLowerCase();this["name"]=name;this["handler"]=null;this["state"]=WTEvent.STATUS_UNKNOWN;if(state)this["state"]=state;this["target"]=target;this["params"]={};if(params)this["params"]=params};WTEvent.PREINIT="preinit";WTEvent.INIT="init";WTEvent.PRELOAD="preload";WTEvent.LOAD="load";WTEvent.POSTLOAD="postload";WTEvent.LOADER_ABORT="loader_abort";WTEvent.LOADER_MODULE_ABORT="loader_module_abort";WTEvent.LOADER_CLICK="loader_click";
WTEvent.LOADER_PRE_EXECUTE="loader_pre_execute";WTEvent.LOADER_EXECUTE="loader_execute";WTEvent.LOADER_RESET="loader_reset";WTEvent.LOADER_COLLECT="loader_collect";WTEvent.LOADER_VIEW="loader_view";WTEvent.DOM_READY="dom_ready";WTEvent.DOM_ONLOAD="dom_onload";WTEvent.TIMER_EXPIRE="timer_expire";WTEvent.TIMER_CLEAR="timer_clear";WTEvent.COMMON_LOAD_COMPLETE="common_load_complete";WTEvent.COMMON_TRACKING_FLUSH="common_tracking_flush";WTEvent.COMMON_COM_EXEC_REQ="common_com_exec_req";WTEvent.HIDESHOW=
"hide_show";WTEvent.CAPI_CONFIG="capi_config";WTEvent.CAPI_CONFIG_PROCESSED="capi_config_processed";WTEvent.TIMER="timer";WTEvent.INITIALIZE="initialize";WTEvent.PREPARE="prepare";WTEvent.CONFIGURE="configure";WTEvent.PREPROCESS="preprocess";WTEvent.PROCESS="process";WTEvent.LIBRARY_LOAD="library_load";WTEvent.INVALID="invalid";WTEvent.ABORT="abort";WTEvent.PRERENDER="prerender";WTEvent.RENDER="render";WTEvent.POSTEXECUTE="postexecute";WTEvent.DONE="done";WTEvent.PAGEVIEW="pageview";WTEvent.CONVERSION=
"conversion";WTEvent.STATUS_SUCCESS="success";WTEvent.STATUS_FAULT="fault";WTEvent.STATUS_UNKNOWN="unknown";this._Debug=function(){this.debugLevel=-1;this._enabled=false;this._shutdown=false;var _history=[];this.Debugger=null;var _loadingDebugger=false;var ERROR=0;var INFO=1;var DEBUG=2;var TRACE=3;var WARN=4;var SUPERFINE=5;this.logInfo=function(str){this.info(str)};this.logDebug=function(str){this.debug(str)};this.logTrace=function(str){this.trace(str)};this.logError=function(str,code,e){this.error(str,
code,e)};this.logWARN=function(str,code,e){this.error(str,code,e)};this.superfine=function(str){this._log(SUPERFINE,str)};this.warn=function(str){this._log(WARN,str)};this.trace=function(str){this._log(TRACE,str)};this.debug=function(str){this._log(DEBUG,str)};this.info=function(str){this._log(INFO,str)};this.error=function(str,code,e){if(!code)code="";else code="("+code+") ";var errorMsg="";if(e)if(typeof e==="string")errorMsg="\n"+e;else if(e.toString){errorMsg=e.toString();if(e.stack)errorMsg+=
", [stack]: "+e.stack}else errorMsg="\n"+(e["message"]?e["message"]:"")+(e["name"]?" ["+e["name"]+"]":"")+(e["fileName"]?"\n ("+e["fileName"]+":"+e["lineNumber"]+")\n"+e["stack"]:"");var msg=code+str+errorMsg;this._log(ERROR,msg)};this._log=function(level,str){if((!this.Debugger||!this._enabled)&&!this._shutdown)_history.push([level,str]);if(this._shutdown){_history=[];return}if(this.debugLevel<level)return;if(this.Debugger)this.Debugger._write(level,str)};this.refresh=function(state){this._enabled=
state;if(WT.Debug.Debugger&&state){WT.Debug.Debugger._writeAll(_history);_history=[]}else if(this.debugLevel>0&&!_loadingDebugger)_loadingDebugger=true};this.info("To clear Optimize cookies use: 'WT.Debug.clearCookies()'");this.info("To dump test params use: 'WT.Debug.dumpParams()'");this.info("To check the staging mode use: 'WT.Debug.checkStagingMode(false)' - Use true if you wish to reset the mode.")};this.Debug=new this._Debug;var Dependency=function(name,state){this._name=name;this._state=state;
this._met=false};var Product=function(name,plug,context){var pSelf=this;var dependencies={};var dependents=[];this.prodId=name;this.plugin=new plug;this.executeState=Product.WAITING;this.timer=null;this.startTime=null;this.stopTime=null;this.contextName="default";if(typeof context!=="undefined")this.contextName=context;this.putDependency=function(dep){dependencies[dep["_name"]]=dep};this.reset=function(){pSelf.executeState=Product.WAITING;dependencies={};dependents=[]};this.clearDependencies=function(){dependencies=
{}};this.getDependency=function(name){for(var depName in dependencies)if(dependencies.hasOwnProperty(depName)&&dependencies[depName]["_name"]===name)return dependencies[depName];return null};this.getDependents=function(){if(dependents.length==0)dependents=WT.getDependents(pSelf.prodId);return dependents};this.updateDependents=function(){dependents=WT.getDependents(pSelf.prodId)};this.getExecuteState=function(){return this.executeState};this.hasMetDeps=function(){for(var depName in dependencies)if(dependencies.hasOwnProperty(depName)&&
depName!=="")if(dependencies[depName]["_met"]===true)continue;else if(products[depName].getExecuteState()===dependencies[depName]["_state"]){dependencies[depName]["_met"]=true;continue}else return false;return true};this.updateDependencyState=function(name,newState){var dependency=pSelf.getDependency(name);if(dependency!==null&&dependency["_state"]===newState)dependency["_met"]=true};this._startTimer=function(timeout){if(!this.timer){WT.Debug.debug("LOADER:  starting timer for "+pSelf.prodId);this.timer=
setTimeout(function(){WT.Debug.error("LOADER:  "+pSelf.prodId+"module timer expired calling Abort","015");WT.fireEvent(new WT.Event(pSelf.prodId+"_"+WT.Event.TIMER_EXPIRE,WT.Event.STATUS_SUCCESS));WT.fireEvent(new WT.Event(pSelf.prodId+"_"+WT.Event.LOADER_MODULE_ABORT,WT.Event.STATUS_SUCCESS))},timeout);this.startTime=new Date;WT.Debug.info("LOADER:  "+this.prodId+" timer started ["+this.startTime+"].")}else WT.Debug.info("LOADER:  "+this.prodId+" timer already started, using current timer.")};this._clearTimer=
function(){this.stopTime=new Date;if(this.timer){clearTimeout(this.timer);this.timer=null}WT.Debug.info("LOADER:  "+this.prodId+" timer cleared ["+this.stopTime+"]")};this.tryExecPostload=function(){var curStateReady=pSelf.getExecuteState()===Product.READY;var hasMet=pSelf.hasMetDeps();var hasPostload=typeof pSelf["plugin"][WT.Event.POSTLOAD]!=="undefined";if(hasMet&&curStateReady&&hasPostload){WT.Debug.debug("setExecuteState:  '"+pSelf.prodId+"' has met all dependencies \x26\x26 ready, running postload");
pSelf["plugin"][WT.Event.POSTLOAD]();return true}else if(hasMet&&curStateReady&&!hasPostload){WT.Debug.superfine(pSelf.prodId+", has no postLoad section");return true}else{WT.Debug.superfine(pSelf.prodId+", did not meet postload exec conditionals");return false}}};Product.WAITING="waiting";Product.DOWNLOADING="downloading";Product.READY="ready";Product.RUNNING="running";Product.ABORTED="aborted";var products={};var prodToContextMap={};this.registerPlugin=function(plugin,context){products[plugin.ProductName]=
new Product(plugin.ProductName,plugin,context);products[plugin.ProductName]["executeState"]=Product.WAITING;if(WT.hasVal(plugin.prototype.abort))WT.addEventHandler(plugin.ProductName+"_"+WT.Event.LOADER_MODULE_ABORT,plugin.prototype.abort);if(WT.hasVal(plugin["prototype"]["wtConfigObj"]["s_dependencies"])){var depArr=plugin["prototype"]["wtConfigObj"]["s_dependencies"].split(",");for(var index=0;index<depArr.length;++index){var nameToState=[];nameToState=depArr[index].split(":");products[plugin.ProductName].putDependency(new Dependency(nameToState[0],
nameToState[1]))}}for(var pName in products)if(products.hasOwnProperty(pName))products[pName].updateDependents();if(plugin["prototype"]&&plugin["prototype"]["wtConfigObj"]&&plugin["prototype"]["wtConfigObj"]["s_useTrackingPipeline"]&&plugin["prototype"]["wtConfigObj"]["s_useTrackingPipeline"]===true){products[plugin.ProductName]["useTrackingPipeline"]=true;var confObj=plugin["prototype"]["wtConfigObj"];if(WT.hasVal(confObj["s_pageTimeout"])&&WT.hasVal(confObj["s_TrackingPipelineTimeout"]))products[plugin.ProductName]["s_TrackingPipelineTimeout"]=
Math.max(confObj["s_pageTimeout"],confObj["s_TrackingPipelineTimeout"]);else if(WT.hasVal(confObj["s_pageTimeout"]))products[plugin.ProductName]["s_TrackingPipelineTimeout"]=confObj["s_pageTimeout"];else if(WT.hasVal(confObj["s_TrackingPipelineTimeout"]))products[plugin.ProductName]["s_TrackingPipelineTimeout"]=confObj["s_TrackingPipelineTimeout"]}};this.clearPlugins=function(){products={};prodToContextMap={}};this.hasMetDeps=function(productName){return products[productName].hasMetDeps()};this.getDependents=
function(productName){var res=[];for(var prodToCheck in products)if(products.hasOwnProperty(prodToCheck)){var rp=products[prodToCheck].getDependency(productName);if(rp!==null)res.push(prodToCheck)}return res};this.updateDependencies=function(productName,dependencyStr){if(!productName||!products[productName])return null;if(!dependencyStr){products[productName].clearDependencies();return null}var depArr=dependencyStr.split(",");if(!depArr||depArr.length==0)return null;products[productName].clearDependencies();
for(var i=0;i<depArr.length;++i){var nameToState=depArr[i].split(":");if(nameToState.length===2)products[productName].putDependency(new Dependency(nameToState[0],nameToState[1]));else return null}};var processDependents=function(productName){var currProduct=products[productName];if(currProduct.tryExecPostload()){currProduct["executeState"]="running";var dependents=currProduct.getDependents(productName);for(var dependentIdx in dependents)if(dependents.hasOwnProperty(dependentIdx)){var dependentName=
dependents[dependentIdx];processDependents(dependentName)}}};this.setExecuteState=function(productName,state){if(state===WT.Event.LOADER_MODULE_ABORT){products[productName]["executeState"]=Product.ABORTED;return}if(WT.getExecuteState(productName)===WT.Event.LOADER_MODULE_ABORT)return;products[productName]["executeState"]=state;WT.Debug.trace("setExecuteState:  '"+productName+"' to '"+state+"'");var dependents=products[productName].getDependents();for(var ind in dependents)if(dependents.hasOwnProperty(ind)&&
products.hasOwnProperty(dependents[ind]))products[dependents[ind]].updateDependencyState(productName,state);processDependents(productName)};this.getExecuteState=function(productName){if(WT.hasVal(products[productName]))if(products[productName]["executeState"]===Product.ABORTED)return WT.Event.LOADER_MODULE_ABORT;else return products[productName]["executeState"];return null};this.isDependency=function(productName){for(var prod in products)if(products.hasOwnProperty(prod)){var res=products[prod].getDependency(productName);
if(res!==null){WT.Debug.trace("isDependency:  '"+productName+"' is dependency of '"+prod+"'");return true}}WT.Debug.trace("isDependency:  '"+productName+"' is not a dependency of any product");return false};this.getTrackingPipelineProducts=function(){var res=[];for(var prod in products)if(products.hasOwnProperty(prod)&&products[prod]["useTrackingPipeline"]){var resObj={};resObj["name"]=prod;if(products[prod]["s_TrackingPipelineTimeout"])resObj["timeout"]=products[prod]["s_TrackingPipelineTimeout"];
res.push(resObj)}return res};this.getContextUrl=function(productName,contextName){return WT.optimize.g_ConfigParams["s_accountRootUrl"]+"/"+WT.optimize.g_ConfigParams["s_accountGuid"]+"/js/"+productName+"-"+contextName+".js"};this.getProduct=function(name){for(var prod in products)if(products.hasOwnProperty(prod)&&name==products[prod]["prodId"])return products[prod];return null};this._addEventHandler=function(name,handler,fault){if(!name||!handler&&!fault){this.Debug.trace("events: Can not add event handler, missing name or listenrs. ");
return}name=name.toLowerCase();if(!this.optimize.g_ConfigParams["s_eventHandlers"][name]){this.optimize.g_ConfigParams["s_eventHandlers"][name]={};this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"]=[];this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"]=[]}if(handler){var skip=false;for(var i=0;i<this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"].length;++i)if(this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"][i]==handler){skip=true;break}if(!skip)this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"].push(handler)}if(fault){var skip=
false;for(var i2=0;i2<this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"].length;++i2)if(this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"][i2]==handler){skip=true;break}if(!skip)this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"].push(fault)}};this._removeEventHandler=function(name,handler,fault){if(!name){this.Debug.trace("events: Can not remove event handler, missing name.");return}name=name.toLowerCase();if(!this.optimize.g_ConfigParams["s_eventHandlers"][name]){this.optimize.g_ConfigParams["s_eventHandlers"][name]=
{};this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"]=[];this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"]=[]}if(!handler&&!fault){delete this.optimize.g_ConfigParams["s_eventHandlers"][name];return}if(handler)for(var i=0;i<this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"].length;++i)if(this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"][i]==handler){delete this.optimize.g_ConfigParams["s_eventHandlers"][name]["success"][i];break}if(fault)for(var i2=
0;i2<this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"].length;++i2)if(this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"][i2]==handler){delete this.optimize.g_ConfigParams["s_eventHandlers"][name]["fault"][i2];break}};this._fireEvent=function(event,async,override){if(WT.g_loaderAborted&&!override){WT.Debug.error("fireEvent: Aborted due to prior error, check error message for details.",0);return}if(!this.optimize.g_ConfigParams["s_eventHandlers"][event["name"]]){this.Debug.trace("fireEvent: no registered event was found for event name: "+
event["name"]);return}var handlers=this.optimize.g_ConfigParams["s_eventHandlers"][event["name"]][event["state"]];if(!handlers){this.Debug.trace("fireEvent: no event handler was registered for event: "+event["name"]+" state: "+event["state"]);return}for(var i=0;i<handlers.length;++i){if(!handlers[i])continue;try{event["handler"]=handlers[i];event["params"]["eventID"]=(new Date).getTime();this.Debug.trace("fireEvent: [name:"+event["name"]+", state:"+event["state"]+", function:"+event["handler"].toString()+
"]");if(async){var fHn=function(handler,e){return function(){handler(e)}};setTimeout(fHn(handlers[i],event),0)}else event["handler"](event)}catch(e){this.Debug.error("Unhandled Event Exception, [name: "+event["name"]+", state: "+event["state"]+", function: "+event["handler"].toString()+"]",0,e)}}};this.g_inHead=_setInHead();this.optimize._createElement=function(type,attr,events,parent,doc){if(!doc){if(parent)doc=parent.ownerDocument;if(!doc)doc=document}var n=doc.createElement(type);if(attr)for(var i in attr)if(attr[i]&&
attr.hasOwnProperty(i))n.setAttribute(i,attr[i]);if(events)for(var e in events)if(events[e]&&events.hasOwnProperty(e))wtSelf._addDOMEvent(n,e,events[e]);if(parent)parent.appendChild(n);return n};this.optimize.lookup=function(value,type){for(var i=0;i<wtSelf.optimize.g_RunObjList.length;++i){var run=wtSelf.optimize.g_RunObjList[i];if(run.params["testAlias"]==value&&(!type||type==run.params["s_requestType"]))return run}};this.optimize.setup=function(arg1,arg2){try{if(WT.optimize.g_Aborted){WT.Debug.error("setup: Aborted due to prior error, check error message for details.",
0);return}var params={};if(typeof arg1=="object")params=arg1;else if(typeof arg1=="string"){if(typeof arg2!="undefined")params=arg2;params["testAlias"]=arg1}if(typeof arg1!="string"){if(WT.optimize.g_hasEmptySetup){WT.Debug.error("setup: Only one empty setup call is supported.",0);return}WT.optimize.g_hasEmptySetup=true}if(typeof arg1=="string")for(var i in WT.optimize.g_ParamsList)if(arg1==WT.optimize.g_ParamsList[i]["testAlias"]){WT.Debug.error("setup: Duplicate setup calls with the same alias are not supported.",
0);return}params["s_requestType"]="control";if(!WT.optimize.g_ConfigLoaded){var obj=this;WT._addEventHandler(WTEvent.CAPI_CONFIG_PROCESSED,function(){obj._initialize(params)});WT.hideAndShow(document.body,this.g_ConfigParams["s_pageDisplayMode"],false,this.g_ConfigParams["overlayColor"])}else this._initialize(params)}catch(e){WT.Debug.error("setup: Fatal error, check error message for details.",0,e);var event=new WTEvent(e.wtevent?e.wtevent:WTEvent.ABORT,WTEvent.STATUS_FAULT,this);event.params["error"]=
e;WT._fireEvent(event)}};this.click=function(arg1,arg2,arg3){var params={};try{if(WT.optimize.g_Aborted){WT.Debug.error("conversion: Aborted due to prior error, check error message for details.",0);return true}if(typeof arg1=="object")params=arg1;else if(typeof arg1=="string"){if(typeof arg2!="undefined")if(typeof arg2=="object"){if(typeof arg3!="undefined")params=arg3;var ev;var elm;if(arg2.type){ev=arg2;elm=arg2.currentTarget?arg2.currentTarget:arg2.srcElement}else if(arg2.tagName)elm=arg2;if(ev)if(ev.preventDefault)ev.preventDefault();
else ev.returnValue=false;if(elm){if(elm.href){if(!elm.wt_pending){elm.wt_pending="true";elm.wt_href=elm.href;elm.wt_target=elm.target;elm.href="javascript:void(0);";elm.target=""}params["r_redirectLink"]=elm}}else params=arg2}params["testAlias"]=arg1}params["s_requestType"]="conversion";WT._removeEventHandler(WTEvent.CONTROL_RESPONSE);if(!WT.optimize.g_ConfigLoaded){var obj=this.optimize;WT._addEventHandler(WTEvent.CAPI_CONFIG,function(){obj._initialize(params)})}else this.optimize._initialize(params);
return false}catch(e){if(typeof arg2=="object"&&arg2.href&&params["r_redirectLink"]===arg2){arg2.href=arg2.wt_href;arg2.target=arg2.wt_target}WT.Debug.error("conversion: Fatal error, check error message for details.",0,e);var event=new WTEvent(e.wtevent?e.wtevent:WTEvent.ABORT,WTEvent.STATUS_FAULT,this);event.params["error"]=e;WT._fireEvent(event);return true}};this.refresh=function(){try{WT.optimize.g_hasEmptySetup=false;WT.optimize.g_Aborted=false;WT.optimize.g_RunObjList=[];WT.optimize.g_ParamsList=
[];WT.optimize.g_PageTimer=null;WT.optimize.g_PageStartTime=null;WT.optimize.g_PageEndTime=null;WT.optimize.Preview={};WT.optimize._ctor();var tmp=WT.optimize.Library.DynamicID;WT.optimize.Library=new WT.optimize._Library(WT.optimize);WT.optimize.Library.DynamicID=tmp}catch(e){WT.Debug.error("refresh: Fatal Error, check error message for details",0,e);var event=new WTEvent(e.wtevent?e.wtevent:WTEvent.ABORT,WTEvent.STATUS_FAULT,this);event.params["error"]=e;WT._fireEvent(event)}};this.reset=function(){for(var pName in products)if(products.hasOwnProperty(pName))products[pName].reset();
WT.fireEvent(new WT.Event(WT.Event.LOADER_RESET,WT.Event.STATUS_SUCCESS,null,null))};this.execute=function(arg1,arg2){WT.refresh();WT.optimize.setup(arg1,arg2);WT._fireEvent(new WTEvent(WTEvent.POSTEXECUTE,WTEvent.STATUS_SUCCESS))};this.addEventHandler=function(name,handler,fault){wtSelf._addEventHandler(name,handler,fault)};this.removeEventHandler=function(name,handler,fault){this._removeEventHandler(name,handler,fault)};this.fireEvent=function(event,async){this._fireEvent(event,async)};var qs=this.parseQueryString(_window);
var qsHelper=function(queryStringVar,handler){if(WT.hasVal(qs[queryStringVar])&&WT.hasVal(handler))handler(qs[queryStringVar])};var parseStrToMap=function(str){var resultMap={};var prods=str.split(";");for(var p in prods)if(prods.hasOwnProperty(p)){var nameVal=prods[p].split(":");resultMap[nameVal[0]]=nameVal[1]}return resultMap};var getContextMap=function(){if(qs!==null&&qs["_wt.context"])return parseStrToMap(qs["_wt.context"]);var cookieVal=searchForCookieName("_wt.context");if(typeof cookieVal!==
"undefined"&&cookieVal!==null)return parseStrToMap(cookieVal);var metatagContent=searchMetatagsForName("_wt.context");if(typeof metatagContent!="undefined"&&metatagContent!==null)return parseStrToMap(metatagContent)};var contextTriggerMap=getContextMap();if(typeof contextTriggerMap!=="undefined"){this.Debug.info("LOADER:  Found one or more context(s)");for(var prod in contextTriggerMap)if(contextTriggerMap.hasOwnProperty(prod))this.Debug.trace("LOADER:  triggers have set contextTriggerMap '"+prod+
"':'"+contextTriggerMap[prod]+"'")}var _preinit=function(){try{for(var name in products)if(products.hasOwnProperty(name)&&WT.hasVal(products[name]["plugin"])&&WT.hasVal(products[name]["plugin"][WT.Event.PREINIT])&&isContextTriggered(name)&&WT.getExecuteState(name)!==WT.Event.LOADER_MODULE_ABORT){WT.Debug.trace("LOADER:  product '"+name+"' with context name '"+products[name]["contextName"]+"' _preinit phase start");products[name]["plugin"][WT.Event.PREINIT]();WT.Debug.trace("LOADER:  product '"+name+
"' with context name '"+products[name]["contextName"]+"' _preinit phase complete")}}catch(e){WT.abortModuleHelper(name,e)}};var _init=function(){try{for(var name in products)if(products.hasOwnProperty(name)&&WT.hasVal(products[name]["plugin"])&&WT.hasVal(products[name]["plugin"][WT.Event.INIT])&&isContextTriggered(name)&&WT.getExecuteState(name)!==WT.Event.LOADER_MODULE_ABORT){WT.Debug.trace("LOADER:  product '"+name+"' with context name '"+products[name]["contextName"]+"' _init phase start");products[name]["plugin"][WT.Event.INIT]();
WT.Debug.trace("LOADER:  product '"+name+"' with context name '"+products[name]["contextName"]+"' _init phase complete")}}catch(e){WT.abortModuleHelper(name,e)}};var _preload=function(){try{for(var name in products)if(products.hasOwnProperty(name)&&WT.hasVal(products[name]["plugin"])&&WT.hasVal(products[name]["plugin"][WT.Event.PRELOAD])&&WT.hasVal(products[name]["plugin"]["wtConfigObj"])&&products[name]["plugin"]["wtConfigObj"]["doLoad"]===true&&isContextTriggered(name)&&WT.getExecuteState(name)!==
WT.Event.LOADER_MODULE_ABORT){WT.Debug.trace("LOADER:  product '"+name+"' with context name '"+products[name]["contextName"]+"' _preload phase start");products[name]["plugin"][WT.Event.PRELOAD]();WT.Debug.trace("LOADER:  product '"+name+"' with context name '"+products[name]["contextName"]+"' _preload phase complete")}}catch(e){WT.abortModuleHelper(name,e)}};var _load=function(){try{for(var name in products)if(products.hasOwnProperty(name)&&WT.hasVal(products[name]["plugin"])&&WT.hasVal(products[name]["plugin"][WT.Event.LOAD])&&
WT.hasVal(products[name]["plugin"]["wtConfigObj"])&&products[name]["plugin"]["wtConfigObj"]["doLoad"]===true&&isContextTriggered(name)&&WT.getExecuteState(name)!==WT.Event.LOADER_MODULE_ABORT){WT.setExecuteState(name,Product.DOWNLOADING);var postLoadWrapper=function(localName){return function(){WT.Debug.debug(localName+" downloaded successfully")}};WT.Debug.trace("LOADER:  product '"+name+"' with context name '"+products[name]["contextName"]+"' _load phase start");products[name]["plugin"][WT.Event.LOAD](postLoadWrapper(name));
WT.Debug.trace("LOADER:  product '"+name+"' with context name '"+products[name]["contextName"]+"' _load phase complete")}}catch(e){WT.abortModuleHelper(name,e)}};var _errorGeneral=function(message){WT.Debug.error("Loader Error: "+message,"016")};var _loaderAbort=function(){WT.g_loaderAborted=true;WT.Debug.error("Loader global abort event","017");try{for(var name in products)if(products.hasOwnProperty(name)&&WT.hasVal(products[name]["plugin"])&&products[name]["plugin"]["wtConfigObj"]["doLoad"]===true){WT.fireEvent(new WT.Event(name+
"_"+WT.Event.LOADER_MODULE_ABORT,WT.Event.STATUS_SUCCESS),false,true);WT.setExecuteState(name,WT.Event.LOADER_MODULE_ABORT);WT.clearTimer(name);WT.Debug.error("Aborting product: "+name,"018")}}catch(e){WT.abortModuleHelper(name,e)}};this.optimize._ctor();this.addEventHandler(WTEvent.PREINIT,_preinit,function(){_errorGeneral("preinit fail")});this.addEventHandler(WTEvent.INIT,_init,function(){_errorGeneral("init fail")});this.addEventHandler(WTEvent.PRELOAD,_preload,function(){_errorGeneral("preload fail")});
this.addEventHandler(WTEvent.LOAD,_load,function(){_errorGeneral("load fail")});this.addEventHandler(WTEvent.LOADER_ABORT,_loaderAbort,function(){_errorGeneral("abort fail")});this.start=function(){try{var fireEventCycle=function(){WT.fireEvent(new WT.Event(WT.Event.PREINIT,WT.Event.STATUS_SUCCESS));WT.fireEvent(new WT.Event(WT.Event.INIT,WT.Event.STATUS_SUCCESS));WT.fireEvent(new WT.Event(WT.Event.PRELOAD,WT.Event.STATUS_SUCCESS));WT.fireEvent(new WT.Event(WT.Event.LOAD,WT.Event.STATUS_SUCCESS));
WT.Debug.debug("LOADER:  Synchronous functionality has finished firing")};if(WT.hasVal(contextTriggerMap)){WT.Debug.debug("LOADER:  contextTriggerMap contains contexts");var contextLibs=[];for(var product in contextTriggerMap)if(contextTriggerMap.hasOwnProperty(product)){var contextUrl=WT.getContextUrl(product,contextTriggerMap[product]);registerContext(product,contextTriggerMap[product]);if(typeof contextUrl!=="undefined"){WT.Debug.debug("LOADER:  adding "+contextUrl+" to download");contextLibs.push(contextUrl)}}WT.downloadLibs("head",
fireEventCycle,0,true,contextLibs)}else fireEventCycle()}catch(e){WT.fireEvent(new WT.Event(WT.Event.LOADER_ABORT,WT.Event.STATUS_SUCCESS))}}}if(typeof WT=="undefined")WT=new _WT(_window,_document,_navigator,_location)})(window,window.document,window.navigator,window.location);WT.Event=WTEvent;WT.sizzleModule=function(){};WT.sizzleModule.prototype.wtConfigObj={libUrl:"//c.webtrends-optimize.com/acs/common/js/5.4/sizzle.min.js",doLoad:true,s_dependencies:""};
WT.sizzleModule.prototype.load=function(callback){try{WT.updateDependencies("sizzle",this.wtConfigObj.s_dependencies);if((typeof Sizzle=="undefined"||!WT.hasVal(Sizzle))&&WT.isDependency("sizzle")){var fail=function(){WT.abortModuleHelper("sizzle","failed to download sizzle");WT.abortModuleHelper("optimize","failed to download sizzle")};WT.downloadLib("head",callback,fail,0,true,this.wtConfigObj.libUrl)}else WT.setExecuteState("sizzle","ready")}catch(e){WT.abortModuleHelper("optimize",e)}};
WT.sizzleModule.prototype.postload=function(){};WT.sizzleModule.ProductName="sizzle";WT.registerPlugin(WT.sizzleModule,"default");WT.jsonModule=function(){};WT.jsonModule.prototype.wtConfigObj={libUrl:"//c.webtrends-optimize.com/acs/common/js/5.4/json2.js",doLoad:true};
WT.jsonModule.prototype.load=function(callback){try{WT.updateDependencies("json",this.wtConfigObj.s_dependencies);if(typeof JSON==="undefined"&&WT.isDependency("json")){WT.Debug.debug("JSON not detected");WT.s_jsonLoaded=false;var fail=function(){WT.abortModuleHelper("json","failed to download json");WT.abortModuleHelper("optimize","failed to download json");WT.abortModuleHelper("analytics","failed to download json")};WT.downloadLib("head",callback,fail,0,true,this.wtConfigObj.libUrl)}else{WT.s_jsonLoaded=
true;WT.setExecuteState("json","ready")}}catch(e){WT.abortModuleHelper("optimize",e)}};WT.jsonModule.prototype.postload=function(){};WT.jsonModule.ProductName="json";WT.registerPlugin(WT.jsonModule,"default");WT.commonModule=function(){};WT.commonModule.prototype.wtConfigObj={libUrl:"//c.webtrends-optimize.com/acs/common/js/5.4/common.js",doLoad:true,s_dependencies:"json:running"};
WT.commonModule.prototype.load=function(callback){try{if((!WT.hasVal(WT.common)||WT.hasVal(WT.common)&&!WT.hasVal(WT.common.TrackingPipeline))&&WT.isDependency("common")){var fail=function(){WT.fireEvent(new WT.Event("common"+WT.Event.LOADER_MODULE_ABORT,WT.Event.STATUS_SUCCESS))};WT.downloadLib("head",callback,fail,0,true,this.wtConfigObj.libUrl)}}catch(e){WT.abortModuleHelper("common",e)}};WT.commonModule.prototype.postload=function(){WT.common.setup()};WT.commonModule.ProductName="common";
WT.registerPlugin(WT.commonModule,"default");WT.debugModule=function(){};WT.debugModule.prototype.wtConfigObj={libUrl:"//c.webtrends-optimize.com/acs/common/js/5.4/wt_debugger.js",doLoad:true};
WT.debugModule.prototype.load=function(callback){try{if((!WT.hasVal(WT.common)||WT.hasVal(WT.common)&&!WT.hasVal(WT.common.TrackingPipeline))&&WT.isDependency("common")){var fail=function(){WT.fireEvent(new WT.Event("common"+WT.Event.LOADER_MODULE_ABORT,WT.Event.STATUS_SUCCESS))};WT.downloadLib("head",callback,fail,0,true,this.wtConfigObj.libUrl)}}catch(e){WT.abortModuleHelper("common",e)}};WT.debugModule.prototype.postload=function(){WT.common.setup()};WT.debugModule.ProductName="debug";
WT.registerPlugin(WT.debugModule,"default");WT.optimizeModule=function(){};
WT.optimizeModule.prototype.wtConfigObj={alwaysLoad:true,s_keyToken:"fbb55294ea4d20d2f8cddd1f1b12bbb4f93b03c39803",doLoad:false,controlCookieTimeout:7776E6,selectorEnabled:false,selectorFunction:"null",s_loaderHide:true,s_pageTimeout:4E3,s_dependencies:"sizzle:ready,json:ready,common:ready",domId:"body",s_pageDisplayMode:"none",lightWeightMode:false,lwtModeWhiteList:"[]",overlayColor:"null",cookieInspection:true,s_useTrackingPipeline:true,s_domainKey:2384149,libUrl:"//c.webtrends-optimize.com/acs/common/js/5.4/wt_lib.js",
enableCORS:true,s_otsServer:"ots.webtrends-optimize.com",s_pageMode:"head",s_conversionTimeout:2E3,s_TrackingPipelineTimeout:4E3,s_contextName:"FirstTag",data:{}};
WT.optimizeModule.prototype.preinit=function(){try{WT.initHelpers();WT.initWTOBF();WT.initGA();WT.Debug.debug("PREINIT: Executing Preinit script");var supportsES6=function(){try{new Function("async () \x3d\x3e {}");new Function("(a \x3d 0) \x3d\x3e a");return true}catch(err){return false}}();if(!supportsES6){WT.helpers.bdebug.warn("WTO : ES6 not supported");WT.optimizeModule.prototype.abort();return}if(document.cookie.match(/_wt.bdebug=true/i))console.log("CAPI Preinit Version ("+WT.optimizeModule.prototype.wtConfigObj.s_contextName+
"): 29-02-2024 09:28 - JM");WT.optimizeModule.prototype.wtConfigObj.libUrl="https://wt-lib-v5-8.webtrends-optimize.workers.dev/";WT.consent_checkInitialState=function(){var optanoncookie=document.cookie.match(/OptanonConsent=([^;]+)/);optanoncookie=optanoncookie&&optanoncookie[1]||"";return decodeURIComponent(optanoncookie).match(/C0002:1/i)};WT.consent_updateState=function(cb){window.addEventListener("consent.onetrust",function(ev){if(ev.detail.includes("C0002"))cb()})};(function testhistory(){try{window.WTOTestsHistory=
{cookieName:"_wt.testsHistory",domain:"",addTest:function(e){var t=this.getTests(),o=[];t&&(o=t.split(","));var i=new RegExp("(^|,)"+e+"(,|$)","i");t.match(i)||(o.push(e),(e=new Date).setTime(e.getTime()+7776E6),document.cookie=this.cookieName+"\x3d"+o.join(",")+";path\x3d/;domain\x3d"+(this.domain||((o=document.domain.match(/(^\w+$)|([^\.\s]+\.co\.[^\.\s]+$)|([^\.\s]+\.com\.[^\.\s]+$)|([^\.\s]+\.[^\.\s]+$)/))&&o[0]||""))+";expires\x3d"+e.toUTCString())},seenTest:function(e){var t=new RegExp("(^|,)"+
e+"(,|$)","i"),e=this.getTests()||"";return Boolean(e.match(t))},getTests:function(){var o="",e=new RegExp(this.cookieName+"\x3d([^;$]+)","i");return document.cookie.replace(e,function(e,t){o=t}),o}}}catch(e){document.cookie.match(/_wt.bdebug=true/i)&&console.log(e)}})();(function(){try{WT.optimizeModule.prototype.wtConfigObj.data.tablet13=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?"yes":"no"}catch(err){if(document.cookie.match(/_wt.bdebug=true/i))console.log(err)}})();(function pageHide(){WT.optimizeModule.prototype.whitelist=
[{URLs:[/[\?&]_wt.testWhitelist=true/i],css:"body { opacity: 0.00000001 !important; }"},{URLs:[/https:\/\/employmenthero\.com\/(?!$)/i],css:"body { opacity: 0.00000001 !important; }"}];if(window.location.href.match(/_wt.mode=staging/i)){var stagingWhitelist=[];for(var i=0;i<stagingWhitelist.length;i++)WT.optimizeModule.prototype.whitelist.push(stagingWhitelist[i])}WT.optimizeModule.prototype.checkWhitelist_CUSTOM=function(){var e,t,o,n=function(e){var o=e||"";return{add:function(e){e.length&&(o+=
e+"\n")},output:function(e){var t;if(o.length){if(e&&(t=document.getElementById(e)),t)return!1;(t=document.createElement("style")).setAttribute("type","text/css"),e&&(t.id=e),t.styleSheet?t.styleSheet.cssText=o:t.appendChild(document.createTextNode(o)),document.getElementsByTagName("head")[0].appendChild(t),o=""}},remove:function(e,t){if(!e)return!1;e=(t=t||window.document).getElementById(e);e&&"style"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)}}},i=WT.optimizeModule.prototype.whitelist||
[];try{for(var r="",a=!1,d=0,s=i.length;d<s;d++){var u,c=i[d],p=c;c.URLs&&c.css&&(p=c.URLs,u=c.css||""),!0===function(e){if(!e)return!1;!1==e instanceof Array&&(e=[e]);for(var t,o=0;t=e[o];o++)if(window.location.href.match(t))return!0;return!1}(p)&&(u&&(r+=u),WT.optimizeModule.prototype.wtConfigObj.s_pageTimeout=5E3,WT.optimizeModule.prototype.wtConfigObj.s_pageDisplayMode="custom",a=!0)}return""!==(WT.obfHide=r)&&(e=(e=r).match(/[\{\}]+/)?e:e+"{ opacity: 0.00001 !important; }",t=new n(e),o="wto-css-capi-"+
Math.floor(1E3*Math.random()),WT.addEventHandler("hide_show",function(e){e.params&&(!1===e.params.display&&t.output(o),!0===e.params.display&&t.remove(o))}),setTimeout(function(){t.remove(o)},5100)),a}catch(e$0){}};WT.optimizeModule.prototype.checkWhitelist_CUSTOM()})();WT.ConversionPackage=function(){try{var processOptData=function(aEntry){try{if(!(aEntry instanceof Array))return"bad input";var testAliases=Core.getTestAliases();if(!testAliases||!testAliases.length)return"no control cookies found, nothing to store.";
aEntry.forEach(function(o){if(o.event){var o_data={};if(o.data)for(var key in o.data){if(!(typeof o.data[key]).match(/number|string/i))continue;o_data[key]=o.data[key]}Core.trackAliases(testAliases,testAliasExclusionList,{name:o.event},o_data)}})}catch(err){}};var doEvaluate=function(onEvent){var wlh=window.location.href;var testAliases=Core.getTestAliases();if(!testAliases||!testAliases.length)return;for(var i=0;i<oConv.length;i++){var me=oConv[i];if(!onEvent&&!me.onEvent||me.onEvent==onEvent);else continue;
if(me.regex){var regArr=me.regex instanceof Array?me.regex:[me.regex];var urlMatched=Core.getMatchingUrl(wlh,regArr);if(!urlMatched)continue}if(me.path){var regArr=me.regex instanceof Array?me.regex:[me.regex];var urlMatched=Core.getMatchingUrl(location.pathname,regArr);if(!urlMatched)continue}if(me.ifCondition)try{if(!me.ifCondition())continue}catch(err){continue}var data={};if(typeof me.collectData==="function")try{data=me.collectData()}catch(err$1){}Core.trackAliases(testAliases,testAliasExclusionList,
me,data)}};if(!window.WT.optimize||!WT.getProjectCookies){setTimeout(WT.ConversionPackage,200);return}if(WT.CPCore)return;var testAliasExclusionList=["ta_dummy_exclude"];var oConv=[{name:"Create_Account",regex:/\/thank-you\/create-account(?!-internal-provision)/i},{name:"Request_a_Demo",regex:/\/thank-you\/(demo-request|organic)/i},{name:"File_Download",regex:/thank-you\/downloadable/i},{name:"File_Downloaded",regex:/thank-you\/downloadable/i,onEvent:"File_Downloaded"},{name:"Subscribe",regex:/\/thank-you\/subscribe/i},
{name:"Create_Account_Hiring_Essential",regex:/\/thank-you\/create-account-hiring-essentials/i}];if(window.location.href.match(/_wt.convPackageDebug=true/i))document.cookie="_wt.convPackageDebug\x3dtrue;path\x3d/;";var Print={},bDebug=Boolean(document.cookie.match(/_wt.convPackageDebug=true/i));if(bDebug){Print.debug=window.console;Print.debug.alert=window.alert}else Print.debug={log:function(){},info:function(){},warn:function(){},error:function(){},dir:function(){},alert:function(){}};Print.debug.log("Conversion Package Running");
var Core={};WT.CPCore=Core;var cfg=WT.optimizeModule.prototype.wtConfigObj;var domainID=cfg.s_domainKey;var keyToken=cfg.s_keyToken;Core.cookieMethods=WT.helpers.cookie;Core.getTestAliases=function(){if(window.location.search.match(/cpDummy/i)&&!Core.cookieMethods.has("wt_dummy_pkg")){var answer=window.prompt();Core.cookieMethods.set("wt_dummy_pkg",answer,1)}var cookies=document.cookie.match(/_wt.control\-\d+\-([^=]+)/g);var projectCookies=document.cookie.match(/_wt.project/i);var hasLSCookies=WT.cookieStrategy===
"localstorage"&&window.localStorage&&Object.keys(localStorage).filter(function(x){return x.match(/_wt.(control|project)/i)}).length;if(!cookies&&!projectCookies&&!hasLSCookies)return false;var arr=[];if(Core.cookieMethods.has("wt_dummy_pkg")){var dummyTa=Core.cookieMethods.get("wt_dummy_pkg");arr.push(dummyTa)}else if(cookies)for(var i=0;i<cookies.length;i++){var c=cookies[i].replace(/_wt.control\-\d+\-/i,"");arr.push(c)}if(WT.getProjectCookies){var list=Object.keys(WT.getProjectCookies());for(var i=
0;i<list.length;i++)arr.push(list[i].replace(/_wt.control\-\d+\-/i,""))}return arr};Core.getMatchingUrl=function(wlh,regArr){for(var j=0;j<regArr.length;j++)if(wlh.match(regArr[j])){Print.debug.log("page matches:",regArr[j]);return true}};Core.trackAliases=function(testAliases,testAliasExclusionList,me,dataInfo){dataInfo=typeof dataInfo==="undefined"?{}:dataInfo;for(var l=0;l<testAliasExclusionList.length;l++){var excludedAlias=testAliasExclusionList[l];index=testAliases.indexOf(excludedAlias);if(index>
-1)testAliases.splice(index,1)}var o={testAlias:"",conversionPoint:me.name,additionalCookies:{},data:dataInfo};var projectCookies={};if(WT.getProjectCookies)projectCookies=WT.getProjectCookies();for(var k=0;k<testAliases.length;k++){var tA=testAliases[k];var cookiename="_wt.control-"+domainID+"-"+tA;var controlcookie=Core.cookieMethods.get(cookiename);if(controlcookie)o.additionalCookies[cookiename]={value:controlcookie};var pcookie=projectCookies[cookiename];if(pcookie)o.additionalCookies[cookiename]=
pcookie}var testAliasString=testAliases.join();o.testAlias=testAliasString;o.additionalCookies["_wt.user-"+domainID]={value:Core.cookieMethods.get("_wt.user-"+domainID)};o.additionalCookies["_wt.mode-"+domainID]={value:Core.cookieMethods.get("_wt.mode-"+domainID)};Print.debug.log("ctrack:",o);WTO_CTrack2(o)};WT.trackEvent=function(o){Core.trackAliases([o.testAlias],[],{name:o.conversionPoint},o.data||{})};var WTO_CTrack2=function(params){var OTS_ACTION=params.conversionPoint?"track":"control";var OTS_GUID=
domainID+(params.testAlias?"-"+params.testAlias:"");var useTestGroupShared=false;var OTS_URL_POST="https://ots.webtrends-optimize.com/ots/api/rest-1.2/"+OTS_ACTION+"/"+OTS_GUID;var aCookies=params.additionalCookies||{};var cookiesFound=document.cookie.match(/_wt\.(user|mode)-[^=]+=[^;\s$]+/ig);if(cookiesFound){var qpURL="\x26url\x3d"+(params.URL?encodeURIComponent(params.URL):window.location.origin+window.location.pathname);var qpConversion=params.conversionPoint&&"\x26conversionPoint\x3d"+params.conversionPoint||
"";var qpData=params.data?"\x26data\x3d"+JSON.stringify(params.data):"";var offsetValue=function(){var rightNow=new Date;var offset=-rightNow.getTimezoneOffset()/60;return offset*1E3*60*60};var offset="\x26_wm_TimeOffset\x3d"+offsetValue();var referrer="";if(window.document&&window.document.referrer&&document.referrer!=="")referrer="\x26_wm_referer\x3d"+document.referrer;var rqElSrc="keyToken\x3d"+keyToken+"\x26preprocessed\x3dtrue\x26_wt.encrypted\x3dtrue\x26testGroup\x3d"+(useTestGroupShared?"shared":
"default")+qpURL+"\x26cookies\x3d"+JSON.stringify(aCookies)+qpConversion+qpData+offset+referrer;Print.debug.log("--- Sending Request ---");Print.debug.log(rqElSrc);if(navigator.sendBeacon&&window.Blob){var blob=new Blob([rqElSrc],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(OTS_URL_POST,blob)}else{var xhttp=new XMLHttpRequest;xhttp.open("POST",OTS_URL_POST,true);xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhttp.send(rqElSrc)}}};WT.helpers.CTrack2=
WTO_CTrack2;doEvaluate(false);var curURL=window.location.href;setInterval(function(){if(window.location.href!==curURL){curURL=window.location.href;Print.debug.log("path changed");doEvaluate(false)}},1E3);var delegate=function(){if(!Element.prototype.matches)Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;return function(el,evt,sel,handler){el.addEventListener(evt,function(event){var t=event.target;while(t&&t!==this){if(t.matches(sel))handler.call(t,
event);t=t.parentNode}})}}();delegate(document,"click",".thank-you-content-download-cta a",function(){doEvaluate("File_Downloaded")});if(window.opt_data&&opt_data.length)processOptData(opt_data);if(!window.opt_data||window.opt_data instanceof Array)window.opt_data={h:window.opt_data||[],push:function(o){try{if(!o)return"opt_data.push - missing any arguments";if(!o.event)return"opt_data.push - you should provide o.event";this.h.push(o);processOptData([o]);return this.h}catch(err){return err}}}}catch(err){if(document.cookie.match(/_wt.bdebug=true/i))console.log(err)}};
WT.ConversionPackage();(function(){var intvl=setInterval(function(){if(typeof window.dataLayer!=="object"||!window.dataLayer.push)return;clearInterval(intvl);if(WT.gtmHookActive)return;window.opt_data=window.opt_data||[];var dataLayerPush__old=dataLayer.push;dataLayer.push=function(o){dataLayerPush__old.apply(this,arguments);try{var eventsWeAreInterestedIn=["driftEmailCapture"];var evt=o.event;var ga4evt=o[0]&&o[0]==="event"&&o[1]||undefined;var event=evt||ga4evt;var data=ga4evt&&o[2]||typeof o.data===
"object"&&o.data||{};if(eventsWeAreInterestedIn.includes(event))opt_data.push({event:event,data:data})}catch(err){if(document.cookie.match(/_wt.bdebug=true/i))console.log(err)}};WT.gtmHookActive=true},500);setTimeout(function(){clearInterval(intvl)},15E3)})();(function clarityIntergration(){try{var sendToClarity=function(data){if(!window.clarity||typeof clarity!=="function"){setTimeout(function(o){sendToClarity(o)},500,data);return}WT.helpers.bdebug.log("WTO: clarity set",data.WT_test,data.WT_variation.toString());
clarity("set",data.WT_test,data.WT_variation.toString())};WT.addEventHandler("pageview",function(g){g=g.target.getParams();var t=g.testAlias,l=g.r_experimentID||g.r_personalizedID||"BASELINE";sendToClarity({"WT_test":t,"WT_variation":l})})}catch(err){if(document.cookie.match(/_wt.bdebug=true/i))console.log(err)}})();try{if(WT.helpers&&WT.helpers.findVariationName)WT.helpers.findVariationName=function(e,userFriendly){var uf=typeof userFriendly==="boolean"?userFriendly:true;var i="",testName="",a=window.WTOTests&&
window.WTOTests[e];if(a&&uf){var t=a.getLevels();for(var n in t)i+=","+t[n];(i=i.slice(1)).length||(i="BASELINE");testName=a.Config.testName}else{var r=WT.optimize.lookup(e).getParams();i=r.r_experimentID||r.r_personalizedID||"BASELINE";if(a&&uf)testName=a.Config.testName;else testName=r.r_runID||"testname-not-found"}return{testName:testName,variationName:i}}}catch(err){}}catch(g){WT.abortModuleHelper("optimize",g)}};
WT.optimizeModule.prototype.init=function(){try{this.wtConfigObj.doLoad=this.wtConfigObj.doLoad||this.wtConfigObj.alwaysLoad}catch(e){WT.abortModuleHelper("optimize",e)}};
WT.optimizeModule.prototype.preload=function(){try{var g=0;WT.optimizeModule.prototype.wtConfigObj.s_conversionTimeout&&(g=WT.optimizeModule.prototype.wtConfigObj.s_conversionTimeout);WT.Debug.debug("PRELOAD:  Executing preload script");WT.updateDependencies("optimize",this.wtConfigObj.s_dependencies);if(WT.isBodyExtant()||this.wtConfigObj.s_pageDisplayMode==="shift"||WT.inHead()){var bod=document.getElementsByTagName("body")[0];WT.hideAndShow(bod,this.wtConfigObj.s_pageDisplayMode,false,this.wtConfigObj.overlayColor)}else{WT.Debug.debug("LOADER:  body element not found, hide via polling");
var displayMode=this.wtConfigObj.s_pageDisplayMode;var overlayColor=this.wtConfigObj.overlayColor;var timeout=this.wtConfigObj.s_pageTimeout;WT.pollForCondition(WT.isBodyExtant,function(){var bodyToHide=document.getElementsByTagName("body")[0];if(!WT.hasVal(WT.optimize)||WT.hasVal(WT.optimize)&&WT.optimize.g_done!==true){WT.Debug.info("LOADER:  Optimize not done so hiding");WT.hideAndShow(bodyToHide,displayMode,false,overlayColor)}else WT.Debug.info("LOADER:  Optimize done flag so not hiding");WT.startTimer("optimize",
timeout)})}}catch(e){WT.abortModuleHelper("optimize",e)}};WT.optimizeModule.prototype.load=function(callback){try{var fail=function(){WT.fireEvent(new WT.Event("optimize_"+WT.Event.LOADER_MODULE_ABORT,WT.Event.STATUS_SUCCESS))};WT.Debug.debug("LOAD:  Executing load phase"),WT.downloadLib("head",callback,fail,0,true,this.wtConfigObj.libUrl)}catch(e){WT.abortModuleHelper("optimize",e)}};
WT.optimizeModule.prototype.postload=function(){WT.Debug.debug("POSTLOAD:  Executing postload optimize complete");var postloadCallback=function(){WT.Debug.info("LOADER:  WT.optimizeModule.prototype: postload");WT.optimize.setup(WT.optimizeModule.prototype.wtConfigObj)};var postloadRetry=function(){var shouldRetry=false;for(var i=0;i<WT.postloadIntegrations.length;i++){var me=WT.postloadIntegrations[i];if(!me.value)if(!me.timeout||me.timeout<0)me.value=true;else{me.value=me.func();me.timeout=Number(me.timeout)-
1}if(!me.value)shouldRetry=true}if(shouldRetry){setTimeout(function(){postloadRetry()},1E3);return}postloadCallback()};try{WT.postloadIntegrations=[];postloadRetry()}catch(e){WT.abortModuleHelper("optimize",e)}};
WT.optimizeModule.prototype.abort=function(){try{WT.Debug.debug("ABORT:  Executing optimizeModule abort");WT.Debug.error("WT.optimizeModule.prototype: abort",145,null,"LOADER");var displayMode=WT.optimizeModule.prototype.wtConfigObj["s_pageDisplayMode"];if((WT.isBodyExtant()||displayMode==="shift"||WT.inHead())&&WT.optimizeModule.prototype.wtConfigObj["s_loaderHide"]){WT.Debug.error("Optimize abort, so unhiding body ... ",146,null,"LOADER");WT.hideAndShow(document.getElementsByTagName("body")[0],
displayMode,true,WT.optimizeModule.prototype.wtConfigObj["overlayColor"])}WT.setExecuteState("optimize",WT.Event.LOADER_MODULE_ABORT);WT.clearTimer(WT.optimizeModule.ProductName);if(WT.hasVal(WT.optimize)&&WT.hasVal(WT.optimize.g_Aborted)&&WT.optimize.g_Aborted===false)WT.fireEvent(new WT.Event(WT.Event.ABORT,WT.Event.STATUS_FAULT))}catch(e){WT.abortModuleHelper("optimize",e)}};WT.optimizeModule.ProductName="optimize";WT.registerPlugin(WT.optimizeModule,"FirstTag");
WT.initHelpers=function(){WT.helpers={};WT.helpers.css={add:function(c,id){if(c instanceof Array)c=c.join(" ");var a=document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css";if(id)b.id=id;if(b.styleSheet)b.styleSheet.cssText=c;else b.appendChild(document.createTextNode(c));a.appendChild(b)},del:function(id){var el=document.getElementById(id);if(el)el.parentNode.removeChild(el)}};WT.helpers.cookie={set:function(e,t,n,o,i){var r=function(e){e=e||document.domain;var t=
e.match(/(^\w+$)|([^\.\s]+\.co\.[^\.\s]+$)|([^\.\s]+\.com\.[^\.\s]+$)|([^\.\s]+\.[^\.\s]+$)/);return t&&t[0]||document.domain},s="";if(n){var c=new Date;c.setTime(c.getTime()+24*n*60*60*1E3),s="; expires\x3d"+c.toUTCString()}else s="";sPath=o||"/",i=i||r(),document.cookie=e+"\x3d"+encodeURIComponent(t)+s+"; path\x3d"+sPath+"; domain\x3d"+i},get:function(e){for(var t,n=e+"\x3d",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var r=o[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return t=
r.substring(n.length,r.length),decodeURIComponent(t)}return null},del:function(e){this.set(e,"",-1)},has:function(e,t){var n=this.get(e);if(n){if(void 0===t)return!0;if(n==t)return!0}return!1}};WT.helpers.loadFileAsync=function(url,cb){if(!url)return;var sc=document.createElement("script");sc.src=url;if(cb)sc.onload=cb;document.getElementsByTagName("head")[0].appendChild(sc)};WT.helpers.bdebug={log:function(){},info:function(){},warn:function(){},error:function(){},dir:function(){},alert:function(){}};
if(document.cookie.match(/_wt.bdebug=true/i))try{WT.helpers.bdebug=window.console}catch(err){}WT.helpers.device=function(){var i="desktop",a=navigator.userAgent;return a.match(/mobile|PlayStation Vita|Nokia|Opera Mini|MIDP|J2ME|CLDC|MIDP|MMP|Windows Phone OS|Windows Phone|Windows CE|GT\-S5360|WiiU/i)&&!a.match(/iPad|Tablet|KFOT|KFTT|KFJWI|KFJWA|X11/i)?i="mobile":(a.match(/iPad/i)||a.match(/Android/i)&&!a.match(/mobile|PlayStation Vita|Nokia|Opera Mini|MIDP|J2ME|CLDC|MIDP|MMP|Windows Phone OS|Windows Phone|Windows CE|GT\-S5360|X11/i)||
a.match(/windows/i)&&a.match(/Tablet|KFOT|KFTT|KFJWI|KFJWA/i))&&(i="tablet"),i}();WT.helpers.findVariationName=function(e){var i="",testName="",a=window.WTOTests&&window.WTOTests[e];if(a){var t=a.getLevels();for(var n in t)i+=","+t[n];(i=i.slice(1)).length||(i="BASELINE");testName=a.Config.testName}else{var r=WT.optimize.lookup(e).getParams();i=r.r_experimentID||r.r_personalisedID||"BASELINE";testName=r.r_runID||"testname-not-found"}return{testName:testName,variationName:i}};WT.helpers.CTrack=function(params){if(!params||
!params.projectAlias||!params.conversionPoint)return;var cookie=WT.helpers.cookie;var log=WT.helpers.bdebug.log;var wtConfigObj=WT.optimizeModule.prototype.wtConfigObj;var domainID=wtConfigObj.s_domainKey;var keyToken=wtConfigObj.s_keyToken;var otsHost=wtConfigObj.s_otsServer;var OTS_GUID=domainID+"-"+params.projectAlias;var controlCookie=cookie.get("_wt.control-"+OTS_GUID);var modeCookie=cookie.get("_wt.mode-"+domainID);var userCookie=cookie.get("_wt.user-"+domainID);if(!controlCookie||!modeCookie||
!userCookie)return;params.cookies={};params.cookies["_wt.control-"+OTS_GUID]={value:controlCookie};params.cookies["_wt.user-"+domainID]={value:userCookie};params.cookies["_wt.mode-"+domainID]={value:modeCookie};var OTS_URL=document.location.protocol+"//"+otsHost+"/ots/api/rest-1.2/track/"+OTS_GUID+"?keyToken\x3d"+keyToken+"\x26preprocessed\x3dtrue\x26_wt.encrypted\x3dtrue\x26testGroup\x3ddefault";var qpURL="\x26url\x3d"+(params.URL?encodeURIComponent(params.URL):window.location.origin+window.location.pathname);
var qpConversion="\x26conversionPoint\x3d"+params.conversionPoint;var qpData=params.data?"\x26data\x3d"+JSON.stringify(params.data):"";var rqEl=document.createElement("img");rqEl.src=OTS_URL+qpURL+"\x26cookies\x3d"+JSON.stringify(params.cookies)+qpConversion+qpData;log("WTO CTrack: --- Sending Request ---");log(rqEl.src)}};WT.hasss=function(){try{sessionStorage.setItem("wt_sstest","true");sessionStorage.getItem("wt_sstest");sessionStorage.removeItem("wt_sstest");return true}catch(err){return false}}();
try{if(WT.helpers&&WT.helpers.findVariationName)WT.helpers.findVariationName=function(e,userFriendly){var uf=typeof userFriendly==="boolean"?userFriendly:true;var i="",testName="",a=window.WTOTests&&window.WTOTests[e];if(a&&uf){var t=a.getLevels();for(var n in t)i+=","+t[n];(i=i.slice(1)).length||(i="BASELINE");testName=a.Config.testName}else{var r=WT.optimize.lookup(e).getParams();i=r.r_experimentID||r.r_personalizedID||"BASELINE";if(a&&uf)testName=a.Config.testName;else testName=r.r_runID||"testname-not-found"}return{testName:testName,
variationName:i}}}catch(err){}
WT.initWTOBF=function(){try{var WTOBF=function(e){var g=this;if(this instanceof WTOBF==!1)return new WTOBF;var p=g.Config={version:"1.2.16 2019-04-17",testName:"",developer:"",testAlias:"",baseURL:"",cssHide:"",factors:{},experiment:{},render:{},useBeacon:!0,useCTrack:!1,convDelay:800,pollFreq:200,pollTimeout:6E3,hideTimeout:7E3,hideTimedOut:!1,showPage:!0,showPageDelay:0,hidePage:!0,debug:!1,debugInTitle:!0,pvDebug:!1,cpoints:!1,cssConvNode:".wto-cp { border: 2px solid orange !important; }",multiExec:!1,
pageviewDone:!1,status:{},cssPrefixClass:"wto",isLocal:!1,outputConfig:!0,debugPrefix:null,modules:{},classNamesOnDoc:!1,velocityData:e};g.exec=function(e){v.init(),v.isEnabled()&&(p.debug=!0,v.enable());var t=function(e){{if(v.info("[v"+p.version+"]: initializing..."),"function"!=typeof e)return"Provided build object is not a function";g.build=new e(g,p)}if("function"!=typeof g.build.Run)return"init(): No defined Run() method found in the build! Aborting...";if(g.build.Config.multiExec)!0===g.build.multiExec&&
v.warn("Executing new build second time");else{var t=g.status.getLast();if(void 0!==t)return"init(): test already executed [status: "+t+"], skipping..."}if(p.isLocal=Boolean(0<=p.velocityData.s_mode.search(/$s_mode/i)),"object"==typeof g.build){var n;for(n in g.build)if(!1!==g.build.hasOwnProperty(n))if("Config"===n){var r=g.build[n];for(var o in r)r.hasOwnProperty(o)&&(p[o]=r[o])}else g[n]=g.build[n];for(n in p)p.hasOwnProperty(n)&&"function"==typeof p[n]&&(g[n]=p[n],delete p[n])}p.testAlias||(p.testAlias=
p.velocityData.testAlias);g.WTOClient.lookup(p.testAlias)||v.warn("Project not found in the runtime - check Config.testAlias");g.WTOClient.isJAPI()&&v.warn("Loading test via JAPI");window.WTOTests=window.WTOTests||{},window.WTOTests[p.testAlias]=l,v.info("Project:",p.testName,"/ DEV:",p.developer),v.info("URL:",window.location.href),!0===p.outputConfig&&g.build.Config&&(v.log("Config:"),v.dir(g.build.Config));var i=[];for(var a in p.modules)p.modules.hasOwnProperty(a)&&i.push(a);i.length&&v.log("Loaded modules: "+
i.join(", "));p.hidePage&&g.showHidePage("hide");setTimeout(function(){document.getElementById(p.cssHideID)&&!1!==p.showPage&&(p.hideTimedOut=!0,v.log("Redisplaying the page automatically after ["+p.hideTimeout+"ms]"),g.showHidePage("show"))},p.hideTimeout),g.pageview.init(g.Config.testAlias),g.levelSelector&&g.levelSelector();p.debug&&p.cpoints&&new g.CSS({rules:p.cssConvNode,id:"w-css-cpoints"});p.cssPrefixClass&&document.documentElement&&(document.documentElement.className+=" "+p.cssPrefixClass.replace(/^[\.]/gi,
""));if(g.event.once("body:loaded",function(){var e=g.getLevels()||{};for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(n){var r="w-"+n.replace(/\s+/gi,"_"),o=p.classNamesOnDoc?document.documentElement:document.body;g.addClass(o,r)}}},!0),p.debug){var s=g.getLevels(),c=[];for(var u in s)s.hasOwnProperty(u)&&c.push(s[u]);p.debugInTitle&&(v.title(p.testName+" | "),c.length?(v.title("["+c.join("/")+"] "),v.info("Levels:"),v.dir(s)):v.warn("No levels are set"))}g.poll({freq:50,when:function(){return Boolean(null!==
document.body)},then:function(){g.event.trigger("body:loaded")}}),g.poll({freq:50,when:function(){return Boolean("complete"===document.readyState)},then:function(){g.event.trigger("doc:readyState:complete")}}),g.status.set("initialized")}(e);if(t)return v.warn("exec(): Failure initializing test:",t),v.warn("exec(): aborting..."),null;try{g.build.Run.apply()}catch(e$2){v.error("Error in build:",e$2)}return g},g.addClass=function(e,t){var n=new RegExp("\\b"+t+"\\b");e&&t&&-1===e.className.search(n)&&
(e.className+=" "+t)},g.setLevel=function(e,t){p.experiment[e]=t},g.getLevels=function(e){return e?p.experiment[e]:p.experiment||{}},g.getLevel=function(e){return g.getLevels(e)},g.render=function(t,e){var n,r=g.getLevels(),o=!1,i=Boolean("function"==typeof e),a="w-"+t.replace(/\s+/gi,"_"),s=p.classNamesOnDoc?"":" ",c={levelName:t,className:a,fullClass:(p.cssPrefixClass?"html."+p.cssPrefixClass+s:"")+"."+a};for(var u in e&&(p.render[t]=e),n=p.render[t],r)r.hasOwnProperty(u)&&r[u]===t&&(c.factor=u,
o=!0);if(n&&(o&&i||!o&&!i)){var l=p.classNamesOnDoc?document.documentElement:document.body;g.addClass(l,c.className),v.info("Render: "+(c.factor?c.factor+": ":"")+t),c.css=new g.CSS({prefix:c.fullClass,id:"wto-css-"+p.testAlias+"-"+c.levelName});try{n(c)}catch(e$3){v.error("Error in ["+t+"]:",e$3)}}},g.start=function(t,e){p.debug&&(v.group(t),v.info(t+": START"));try{e.apply(g.build)}catch(e$4){v.error("Error in ["+t+"]:",e$4)}p.debug&&v.groupEnd()},g.showHidePage=function(e){switch("boolean"==typeof e&&
(e=e?"show":"hide"),v.info("showHidePage:",e),p.cssHideID=p.cssHideID||"wto-css-hide-"+Math.floor(1E3*Math.random()),p.cssHideInstance=p.cssHideInstance||new g.CSS({id:p.cssHideID}),e){case "hide":if(!p.cssHide)return!1;document.getElementById(p.cssHideID)||p.cssHideInstance.add((p.cssPrefixClass?"."+p.cssPrefixClass+" ":"")+p.cssHide);break;case "show":setTimeout(function(){p.cssHideInstance.remove(p.cssHideID),p.cssHideID="",g.event.trigger("showpage")},p.showPageDelay||0)}},g.poll=function(e){var t=
{};2<=arguments.length?((t=arguments[2]||t).when=e,t.then=arguments[1]):t=e,t&&(!t||t.when&&t.then)||v.error("poll(): not enough params"),t.freq=t.freq||p.pollFreq||200,t.timeout=t.timeout||p.pollTimeout||6E3,t.forceExec=t.forceExec||!1,t.abort=s;var n=null,r=null,o=!1;function i(){return t.msg&&v.log("Polling: "+t.msg),Boolean(t.when(t))}function a(){s(),t.msg&&v.info("Polling [SUCCESS]: "+t.msg),t.then.apply(g,[t])}function s(){clearTimeout(r),clearInterval(n)}return i()?a():(r=setTimeout(function(){o=
!0},t.timeout),n=setInterval(function(){o?function(){s(),t.msg&&v.warn("Polling [TIMEOUT]: "+t.msg);"function"==typeof t.onTimeout&&t.onTimeout.apply(g,[t]);t.forceExec&&(t.msg&&v.warn(t.msg+": forced execution"),a());t.msgTitle&&v.title(t.msgTitle);g.showHidePage("show")}():i()&&a()},t.freq)),{abort:t.abort}},g.conversionsHist={},g.conversion=function(e,t){var n=(t=t||{}).testAlias||p.testAlias,r=Boolean(t.skipPageviewCheck||p.skipPageviewCheck||!1),o={conversionPoint:e,cookieInspection:!1,beacon:p.useBeacon||
!1,data:t.data,testAlias:n};if(t.params)for(var i in t.params)t.params.hasOwnProperty(i)&&(o[i]=t.params[i]);var a=Boolean("object"==typeof o.data);if(!e)return v.error("conversion:","name not provided"),!1;if(!1===g.status.is("pageviewDone")&&!r)return v.warn("conversion: ["+e+"] triggered before pageview. Aborting request."),!1;if(!1===t.canRepeat&&g.conversionsHist[e])return v.warn("conversion: ["+e+"] already tracked. Skipping."),!1;t.event&&g.delay(t.event,t),void 0===t.useCTrack&&(t.useCTrack=
p.useCTrack),v.info("conversion:",e),v.title("["+e+"]"),a&&(v.log("conversion - sending custom data:"),v.dir(o.data));var s="";t.useCTrack&&g.CTrack?s=g.CTrack({s_domainKey:g.WTOClient.getRunParam("s_domainKey")||g.WTOClient.getParam("s_domainKey"),s_keyToken:g.WTOClient.getRunParam("s_keyToken")||g.WTOClient.getParam("s_keyToken"),projectAlias:n,conversionPoint:e,data:t.data&&JSON&&JSON.stringify&&JSON.stringify(t.data)}):g.WTOClient.conversion(o),s&&v.info("conversion [CTrack]:",s),g.conversionsHist[e]=
o},g.delay=function(e,t){if(e){var n,r,o=(t=t||{}).node,i="boolean"!=typeof t.redirect||t.redirect,a="",s="";if(e&&(e=e._event||e.originalEvent||e||window.event),!o&&e)for(o=e.target||e.srcElement;o&&-1===o.nodeName.search(/^(a|area)$/i);)o=o.parentNode;o&&(o=o._node||o),o&&0<=o.nodeName.search(/^(a|area)$/i)&&(a=o.getAttribute("target"),s=o.getAttribute("href")),e&&"click"===e.type&&"_blank"!==a&&s&&"#"!==s&&-1===s.search(/(javascript|mailto):/i)&&(e.preventDefault&&e.preventDefault(),e.returnValue=
!1,i?(n=s,r=t.convDelay||p.convDelay||800,v.log("Delayed event by ["+r+"ms]:",n),setTimeout(function(){window.location.href=n},r)):v.warn("Preventing redirection of the link."))}else v.error("delay: no event provided")},g.abort=function(e){e?(v.warn("Aborting test: "+e||"no reason given"),v.title("[ABORTED!]"),g.pageview.suspend(e),g.showHidePage("show"),g.status.set("aborted")):v.error("abort: no reason given")},g.addModule=function(e,t){e&&t&&(g[e]=p.modules[e]=t.apply(g,[g,p]))},g.util={makeFuncUnique:function(e){var t=
e.toString();return t=(t=t.replace(/^[^\{]+{|\}$/g,"")).replace(/\{testAlias\}/gm,p.testAlias),t+='\n"OBF - event handler ID: '+Math.floor(1E3*Math.random())+'";',new Function(t)}};var v=g.debug=new function(o,d){this.history=[],this.iFrame=null,this.consoleObj=null;this.enable=function(){!0},this.disable=function(){!1},this.init=function(){this.restoreConsoleObjects(),this.initWindowConsole(window),this.consoleObj=window.console},this.initWindowConsole=function(e){e.console||(e.console={});for(var t=
["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],n=0;n<t.length;++n)"object"!=typeof e.console[t[n]]&&"function"!=typeof e.console[t[n]]&&(e.console[t[n]]=function(){})},this.hasWindowConsoleAvailable=function(){if(!window.console)return!1;for(var e=["log","debug","info","warn","error"],t=0,n=e.length;t<n;t++){var r=e[t];if("function"!=typeof r)return!1;if("function(){}"===String(r).replace(/\s+/gi,""))return!1}return!0},
this.hasNativeDir=function(){var e=window.console&&window.console.dir;return Boolean(e&&-1<String(e).search(/\[native code\]/i))},this.restoreConsoleObjects=function(e){if(e=e||{force:!1},!0!==this.hasWindowConsoleAvailable()||!1!==e.force){if(this.iFrame=document.getElementById("w-iframe-consoleOrigin"),!this.iFrame)this.iFrame=document.createElement("iframe"),this.iFrame.id="w-iframe-consoleOrigin",this.iFrame.style.display="none",this.iFrame.style.width=0,this.iFrame.style.height=0,(document.body||
document.getElementsByTagName("head")[0]).appendChild(this.iFrame);try{var t=this.iFrame.contentWindow&&this.iFrame.contentWindow.console;this.consoleObj=t?window.console=t:(this.initWindowConsole(window),window.console)}catch(e$5){}}},this.alert=function(){!1!==Boolean(d.debug)&&window.alert(Array.prototype.slice.apply(arguments).join(" "))},this.title=function(e,t){!1!==Boolean(d.debug)&&(document.title=(e||"")+document.title+(t||""))},this.log=function(){this.proxy("log",arguments)},this.info=
function(){this.proxy("info",arguments)},this.warn=function(){this.proxy("warn",arguments)},this.error=function(){this.proxy("error",arguments)},this.dir=function(){this.proxy("dir",arguments)},this.group=function(e){this.consoleObj&&d.debug&&this.consoleObj.group&&this.consoleObj.group(e)},this.groupEnd=function(){this.consoleObj&&d.debug&&this.consoleObj.groupEnd&&this.consoleObj.groupEnd()},this.proxy=function(e,t){this.consoleObj&&!1!==this.hasWindowConsoleAvailable()||this.restoreConsoleObjects({force:!0});
var n=this.consoleObj,r=d.testAlias?"["+d.testAlias+"] - ":"",o="OBF "+((d.debugPrefix?"["+d.debugPrefix+"] - ":"")||r),i=Array.prototype.slice.call(t),a=i[0];if(this.history.push(i),n&&d.debug)if(i&&i.length&&"string"==typeof i[0]&&(i[0]=o+i[0]),n[e]&&"function"==typeof n[e].apply&&this.hasNativeDir())i&&1===i.length&&null!==i[0]&&"object"==typeof i[0]&&void 0===i[0].nodeType?n.dir&&n.dir.apply(n,i):n[e]&&n[e].apply(n,i);else if(void 0!==n&&("object"==typeof n[e]||"dir"===e)){var s=Boolean("object"==
typeof a&&a instanceof Array==!1);if("dir"===e&&s){var c=[];for(var u in a)a.hasOwnProperty(u)&&c.push(u+": "+a[u]);Function.prototype.call.call(n.log,n,[o+"Object: \n{\n   "+c.join("\n   ")+"\n}"])}else{var l=Array.prototype.slice.call(i).join(" ");Function.prototype.call.call(n[e],n,l)}}},this.isEnabled=function(){var e="wtDEBUG",t="_wt.bdebug",n="true",r=o.nav.hasParam("_wt.bdebug",n);return!r||o.cookie.has(t)&&o.cookie.has(e)||(o.cookie.set(e,n,30,"/",o.nav.getDomain()),o.cookie.set(t,n,30,"/",
o.nav.getDomain())),o.nav.hasParam("_wt.dev.cpoints")&&(d.cpoints=!0),!!(o.cookie.has(t,n)||o.cookie.has(e,n)||r)}}(g,p);g.event=function(n,s){var c={},u={};function l(e,t){"function"!=typeof e||e.callOnce&&e.didExec||(e.apply(n,[t]),e.didExec=!0)}return{queue:c,history:u,bind:function(e,t,n){if(e&&"function"==typeof t){c[e]=c[e]||[];var r=c[e];r instanceof Array&&(r.push(t),n&&u[e]&&u[e].done&&l(t,u[e].lastParam))}},bindAfter:function(e,t){this.bind(e,t,!0)},once:function(e,t,n){t&&(t.callOnce=!0),
this.bind(e,t,n)},trigger:function(e,t,n){n||(n={});var r,o=c[e];if(n.isInternal&&!s.showInternalEvents||v.log("Event: ",e),u[e]={done:!0,lastParam:t},o&&o instanceof Array)for(var i=0,a=o.length;i<a;i++)"function"==typeof(r=o[i])&&l(r,t)}}}(g,p),g.status=function(){function n(e,t){p.status[e]=t}return p.status||(p.status={}),{set:function(e){var t;n(e,!0),t=e,p.status.lastState=t},unset:function(e){n(e,!1)},get:function(e){return e?p.status[e]:p.status},is:function(e){return!0===this.get(e)},getLast:function(){return p.status.lastState}}}(),
g.pageview=function(){var c,i,u="",l=!1,d=function(){return p.pvDebug||!1},a=window.WTEvent||window.WT&&window.WT.Event||{},f=!1;function e(e){d()&&(v.warn("pageviewCallback: START"),v.dir({"Config.pageviewDone":p.pageviewDone,'F.status.is("aborted")':g.status.is("aborted"),preventPageview:l,capiPageviewTracked:f})),p.pageviewDone||g.status.is("aborted")||l?v.warn("pageview: detected CAPI pageview event"):(p.pageviewDone=!0,setTimeout(function(){g.status.set("pageviewDone"),g.event.trigger("pageview",
e)},500))}function t(){p.isLocal?(v.warn("Test is a local copy: triggering pageview in 500ms..."),setTimeout(e,500)):function(t){if("undefined"==typeof JAPI){var e=function(){var e=arguments[0];"{testAlias}"===e.target.getParams().testAlias&&window.WTOTests["{testAlias}"].event.trigger("ots:pageview",e,{isInternal:!0})};g.event.once("ots:pageview",function(e){((e.target.getParams&&e.target.getParams()||{}).testAlias||e.target.alias)===p.testAlias&&t(e)},!0),e=g.util.makeFuncUnique(e),g.WTOClient.addEventHandler(a.PAGEVIEW||
"control_pageview",e)}else WTOptimize.addEventHandler(a.PAGEVIEW,t)}(e)}return{init:function(e){c=g.WTOClient.getRuntime(),i=g.WTOClient.lookup(u),this.setAlias(e),t()},setAlias:function(e){u=e,i||(i=g.WTOClient.lookup(u))},cbControlResponse:function(e){try{var t=e.target.alias||"",n=e.target.control;if(-1===t.search(p.testAlias))return;if(!window.JSON||!window.JSON.parse)throw new ReferenceError("JSON.parse() not found");var r=JSON.parse(g.WTOClient.decode(n));if(d()&&(v.warn("Control Responses (decoded):"),
v.dir(r)),!r)return;if("pageview"===r.opcode&&"success"===r.opstatus){window.WTOTests[p.testAlias].event.trigger("ots:pageview",e,{isInternal:!0});try{var o="_wt.control-"+g.WTOClient.getParam("s_domainKey")+"-"+p.testAlias;if(r.body&&r.body.cookies&&r.body.cookies[o]){var i=r.body.cookies[o].timeout/1E3/60/60/24,a=r.params.cookieDomain||g.nav.getDomain();g.cookie.set(o,r.body.cookies[o].value,i,"/",a)}}catch(e$6){v.error("ERROR @ cbControlResponse():",e$6)}}"pageview"===r.opcode&&"fault"===r.opstatus&&
v.warn("Pageview fault:",r.body.message)}catch(e$7){v.error("ERROR @ pageview.cbControlResponse:",e$7)}},suspend:function(e){var s="pageview.suspend:";if(v.warn(s,e),l=!0,g.WTOClient.isJAPI())WTOptimize.pausePageview();else{var t=g.WTOClient.getRuns();if(d()&&(v.warn(s,"aRuns ["+t.length+"]:",t),v.dir(t)),t&&t.length)for(var n=0,r=t.length;n<r;n++)!function(){var i=t[n],a=i.getParams();if(d()){var e={WTORun:i,"WTORunParams.testAlias":a.testAlias,"Config.testAlias":p.testAlias};v.warn(s,e),v.dir(e)}i&&
a.testAlias===p.testAlias&&(c.OBF_abortedTests=c.OBF_abortedTests||[],c.OBF_abortedTests.push(u),i.track_orig||(i.track_orig=i.track||i.z45cc,i.z45cc=i.track=function(e){var t=a.testAlias,n=c.OBF_abortedTests&&-1<c.OBF_abortedTests.join(",").search(t),r=g.status.is("aborted");if(d()&&v.warn(s,"WTORun.track("+e+") for ["+t+"]: ","capiPageviewTracked:",f,"testIsAborted:",n,"preventPageview:",l),f)d()&&v.warn(s,"Run.track: pageview already tracked");else if("pageview"===e&&n&&l){d()&&v.warn(s,"Run.track: preventing "+
e+" for: "+t);var o=g.WTOClient.getDebugObject();o&&o.logDebug&&o.logDebug("[!] OBF ["+p.testAlias+"]: Preventing pageview in the build code")}else if(r)v.warn(s,"test is aborted - will not track pageview");else try{d()&&v.warn(s,'Run.track: tracking pageview, calling "Run.track_orig"...'),i.track_orig(e),f=!0}catch(e$8){d()&&v.error("ERROR @ "+s,e$8)}}))}();else v.warn(s,"no runs found!")}},abort:function(e){v.warn("pageview.abort() is now DEPRECATED, use pageview.suspend() instead."),this.suspend(e)},
track:function(e){var t,r="pageview.track:";if(v.info(r,"START"),!0===l)if(l=!1,"undefined"==typeof JAPI)if("object"==typeof e&&(v.log(r,"Sending custom data:",e),v.dir(e),g.WTOClient.setRunData(p.testAlias,e)),-1<g.WTOClient.getVersionInfo().full.search(/3\.1\./))v.error(r,"CAPI 3.1.x is not supported for manually triggering pageviews");else if(t=g.util.makeFuncUnique(function(){window.WTOTests["{testAlias}"].pageview.cbControlResponse(Array.prototype.slice.apply(arguments)[0])}),g.WTOClient.addEventHandler(a.CONTROL_RESPONSE||
"control_pageview",t,t),i=g.WTOClient.lookup(u)){try{var n=g.WTOClient.getParams();!1===(n&&n.s_eventHandlers&&void 0!==n.s_eventHandlers[a.CONTROL_RESPONSE])&&(d()&&v.warn(r,"no control response handler detected - creating a facade..."),g.WTOClient.addEventHandler(a.CONTROL_RESPONSE,function(e){var t=e.target.alias,n=g.WTOClient.lookup(t)||i;d()&&v.warn(r,"oRun:",n,"testAlias:",t),n&&(d()&&v.warn(r,'Forcing "control_response" method...'),(n._control_response||n.zac2c)(e))}))}catch(e$9){v.error(r,
"CAPI control_response handler hack:",e$9)}var o=g.WTOClient.getRuntime();o.ze3c2=o.g_Aborted=!1,(i.track||i.z45cc).apply(i,["pageview"])}else v.error(r,"Runtime test run object not found with project alias of ["+u+"]. Check Config.testAlias in build to match UI one.");else WTOptimize.trackPageview();else v.warn(r,"pageview was not aborted to track it manually.")}}}();var t,n,c,r,o=function(e){var m=this;if(m instanceof o==!1)return new o(e);return m.URL=e||window.location.href,m.oURL=null,m.update=
function(){m.oURL=m.getURLParts(m.URL)},m.createURL=function(e){if(!(e=e||m.oURL))return"";var t=e.base,n="";for(var r in e.params)if(e.params.hasOwnProperty(r)){var o=e.params[r];o instanceof Array==!1&&(o=[o]);for(var i=0,a=o.length;i<a;i++){var s=o[i];switch(Object.prototype.toString.call(s)){case "[object Object]":s=JSON.stringify(s);break;case "[object Boolean]":s=s.toString();break;case "[object Undefined]":s=""}var c=!1;try{c=Boolean(s!==decodeURIComponent(s))}catch(e$10){"URIError"===e$10.name&&
(c=!1)}c||(s=encodeURIComponent(s)),n+=(""===n?"?":"\x26")+r+(""!==s?"\x3d"+s:"")}}var u=e.hash||"";return u&&(u=(-1<u.search("#")?"":"#")+u),t.match(/\/\/(?!.*\/)/i)&&(t+="/"),t+=n+u},m.decodeString=function(e){var t=e,n=!1,r=0;if(!e)return e;do{try{t=decodeURIComponent(t),n=Boolean(t===decodeURIComponent(t))}catch(e$11){if("URIError"===e$11.name){n=!0;break}}r++}while(!n&&r<5);return t},m.getURLParts=function(e){var t=e||m.URL,n=t.match(/\/\/([^\?\/]+)/i),r=n&&n[1],o=t.replace(/(\?|#).*/gi,""),
i=o.match(/^.*(?=:\/\/)/i),a=i&&i[0],s=t.replace(o,"").replace(/#[^$]*/i,"").replace(/^\?/i,""),c=t.replace(o,"").replace(s,"").replace(/^\?[^#]*#?/i,""),u={};if(s)for(var l=s.split("\x26"),d=0,f=l.length;d<f;d++){var g=l[d].split("\x3d"),p=g[0],v=g[1]||"";v=m.decodeString(v),p&&(void 0!==u[p]&&u[p]instanceof Array==!1&&(u[p]=[u[p]]),u[p]instanceof Array?u[p].push(v):u[p]=v)}return{protocol:a,domain:r,base:o,search:s,params:u,hash:c}},m.getParam=function(e,t,n){return m.getParams(n)[e]},m.getParams=
function(e){return m.getURLParts(e).params},m.is=function(e,t){return(e instanceof RegExp?e:new RegExp(e,"i")).test(t||m.URL)},m.addParam=function(e,t){var n=t||m.URL,r=m.getURLParts(n);for(var o in e)e.hasOwnProperty(o)&&(r.params[o]=e[o]);var i=m.createURL(r);return void 0===t&&(m.URL=i,m.oURL=r),i},m.addParamDuplicate=function(e,t){var n=t||m.URL,r=m.getURLParts(n);for(var o in e)if(e.hasOwnProperty(o)){var i=e[o],a=void 0!==r.params[o],s=r.params[o]instanceof Array;(function(){if(r.params[o]===
i)return!0;if(s)for(var e=0,t=r.params[o].length;e<t;e++)if(r.params[o][e]===i)return!0})()||(s?r.params[o].push(i):r.params[o]=a?[r.params[o],i]:i)}var c=m.createURL(r);return void 0===t&&(m.URL=c,m.oURL=r),c},m.addParamReload=function(e,t){window.location.href=m.addParam(e,t)},m.addParamDupReload=function(e,t){window.location.href=m.addParamDuplicate(e,t)},m.removeParam=function(e,t){var n=t||m.URL;"string"==typeof e&&(e=e.split(","));for(var r=m.getURLParts(n),o=0,i=e.length;o<i;o++)delete r.params[e[o]];
var a=m.createURL(r);return void 0===t&&(m.URL=a,m.oURL=r),a},m.removeHash=function(e){var t=m.getURLParts(e||m.URL);t.hash="";var n=m.createURL(t);return void 0===e&&(m.URL=n,m.oURL=t),n},m.removeParamReload=function(e,t){window.location.href=m.removeParam(e,t)},m.hasParam=function(e,t,n){var r=m.getURLParts(n||m.URL),o=r.params[e],i=void 0!==o,a=!1;if(e instanceof RegExp)for(var s in r.params)if(r.params.hasOwnProperty(s)&&0<=s.search(e)){i=!0,o=r.params[s];break}if(i){var c=t instanceof RegExp?
t:new RegExp(t,"i");if(void 0===t&&(a=!0),o instanceof Array)for(var u=0,l=o.length;u<l;u++){var d=o[u];d&&0<=d.search(c)&&(a=!0)}else 0<=o.search(c)&&(a=!0)}return a},m.redirect=function(e,t,n,r){var o=m.getURLParts(n||m.URL),i=m.getURLParts(e);if(t)for(var a in o.params)o.params.hasOwnProperty(a)&&(i.params[a]=o.params[a]);var s=m.createURL(i);return r||window.location.replace(s),s},m.getDomain=function(e){var t=(e=e||document.domain).match(/(^\w+$)|([^\.\s]+\.(co|org)\.[^\.\s]+$)|([^\.\s]+\.com\.[^\.\s]+$)|([^\.\s]+\.[^\.\s]+$)/);
return t&&t[0]||document.domain},m.getProtocol=function(e){return m.getURLParts(e).protocol},m.update(),m};g.Nav=o,g.nav=new g.Nav(window.location.href),g.CSS=(t=g,n=p,function(i){if(this instanceof t.CSS==0)return new t.CSS(i);i=i||{};var d=this;return this.ID=Math.floor(100*Math.random()),this.rules="",this.styleNode=null,this.prefix=i.prefix||(n.cssPrefixClass?"html."+n.cssPrefixClass:"")||"",this.isOutput=!1,this.autoOutput=void 0===i.autoOutput||i.autoOutput,this.nodeParent=i.nodeParent,this.doc=
i.doc||window.document,this.oSheet=null,this.ruleObjects=[],this.add=function(e,t){if(t=null==t?d.prefix||"":t,e instanceof Array)for(var n=0,r=e.length;n<r;n++){var o=t+" ",i=e[n];i&&(null!==i.match(/^(@|\})/i)&&(o=""),null!==i.match(/^(body|html)/i)&&(o=""),d.rules+=o+i+"\n")}else e&&(d.rules+=e+"\n");return d.autoOutput&&this.output(),d.rules},this.output=function(e,t){e=e||i.id;var n=(t=t||i.doc||window.document).getElementsByTagName("head")&&t.getElementsByTagName("head")[0],r=t.body;d.nodeParent=
d.nodeParent||n||r;var o=d.styleNode;if(!o&&e&&(o=document.getElementById(e)))return v.warn("CSS.output:","style with [ID\x3d"+e+"] already exists - aborting"),null;if(o||((o=d.styleNode=t.createElement("style")).setAttribute("type","text/css"),d.nodeParent.insertBefore(o,d.nodeParent.firstChild)),0<d.rules.length&&o){if(o.styleSheet){d.injectRulesIE(d.rules);try{o.styleSheet.cssText=o.styleSheet.cssText||"",o.styleSheet.cssText+=d.rules}catch(e$12){}}else o.appendChild(document.createTextNode(d.rules));
d.rules="",d.isOutput=!0}return e&&o&&(o.id=e),d.styleNode},this.remove=function(e,t){if(d.removeInjectedExtraRules(),!e&&d.styleNode&&d.styleNode.parentNode)return d.styleNode.parentNode.removeChild(d.styleNode),!0;t||(t=i.doc||window.document);var n=t.getElementById(e);return!(!n||"style"!==n.nodeName.toLowerCase()||(n.parentNode.removeChild(n),0))},this.reset=function(){d.rules="",d.isOutput=!1,d.styleNode&&d.remove()},this.hasReachedCSSLimit=function(){return document.createStyleSheet&&document.styleSheets&&
31===document.styleSheets.length},this.injectRulesIE=function(e){try{if(!d.hasReachedCSSLimit())return;for(var t=d.oSheet=d.oSheet||function(){for(var e,t=0,n=document.styleSheets.length;t<n;t++){var r=(e=document.styleSheets[t]).media.mediaText||e.media,o=Boolean(""===r||"screen"===r||"all"===r),i=Boolean(e.href&&0<e.href.length);if(o&&!i)return e}return null}(),n=t.rules||t.cssRules,r=e.split("\n"),o=0,i=r.length;o<i;o++){var a=r[o];if(!(""===(a=a.replace(/^\s+|\s+$/g,""))||"}"===a||-1<a.search(/@media/i))){var s=
n.length;if(t.insertRule)t.insertRule(a,s);else if(t.addRule){var c=a.split("{")[0],u=a.split("{")[1].replace(/}[^$]*/i,"");t.addRule(c,u,s)}var l=n[s];l&&d.ruleObjects.push({oSheet:t,oRule:l})}}}catch(e$13){v.error("ERROR @ CSS.injectRulesIE (ID:"+d.ID+"):",e$13)}},this.removeInjectedExtraRules=function(){try{var e=0<d.ruleObjects.length;if(d.oSheet&&e)for(var t=0,n=d.ruleObjects.length;t<n;t++){var r=d.ruleObjects.pop();if(!r)break;var o=r.oRule,i=a(r.oSheet,o);0<=i&&s(r.oSheet,0,i)}}catch(e$14){v.error("ERROR @ CSS.removeInjectedExtraRules (ID:"+
d.ID+"): ",e$14)}function a(e,t){try{var n=e.rules||e.cssRules;if(!n)return-1;for(var r=n.length-1;0<=r;r--){var o=n[r];if(Boolean(o===t))return r}return-1}catch(e$15){v.error("ERROR @ CSS.findRuleIndex:",e$15)}}function s(e,t,n){try{e.removeRule?e.removeRule(n):e.deleteRule&&e.deleteRule(n)}catch(e$16){v.error("ERROR @ CSS.removeRule:",e$16)}}},d.hasReachedCSSLimit()&&v.warn("CSS in IE: page has reached a limit of 31 CSS stylesheets - will use existing stylesheet"),i.rules&&d.add(i.rules),{add:d.add,
reset:d.reset,output:d.output,remove:d.remove,instance:d}}),g.cookie=(c=g,{set:function(e,t,n,r,o){if(void 0===e||void 0===t)throw new Error("cookie.set: not all params");var i="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1E3),i="; expires\x3d"+a.toUTCString()}else i="";var s=r||"/";o=o||c.nav.getDomain(),document.cookie=e+"\x3d"+encodeURIComponent(t)+i+"; path\x3d"+s+"; domain\x3d"+o,v.log('Cookie drop [%s\x3d"%s"][DURATION: %s][PATH: "%s"][DOMAIN: "%s"]',e,t,n||"session",s,o)},get:function(e){for(var t,
n=e+"\x3d",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var i=r[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n))return t=i.substring(n.length,i.length),decodeURIComponent(t)}return null},del:function(e){this.set(e,"",-1)},has:function(e,t){var n=this.get(e);if(n){if(void 0===t)return!0;if(n===String(t))return!0}return!1}}),g.WTOClient=new (r=function(){if(this instanceof r==!1)return new r;var u=this,t={Library:"z32ad",g_RunObjList:"z2b20",params:"zccdd",params_v30:"zccdd3ca1db",
g_ParamsList:"zf310",g_ConfigParams:"z23eb",_decrypt:"zcc1d",_encrypt:"zcdd3",decryptTea:"z7f69",encryptTea:"z71df",g_PageEndTime:"z93cb",g_PageTimer:"z907d",g_Aborted:"ze3c2"};function l(e){return t[e]}return u.getRuntime=function(){return u.isRunningOnJAPI()?WTOptimize:window.WT&&window.WT.optimize||window.WTOptimize||window.WTO_JAPI||null},u.getWTO=function(){return u.getRuntime()},u.getRuns=function(){return u.getReqArr()},u.getLibObj=function(){var e=u.getRuntime();return e&&(e[l("Library")]||
e.Library)},u.getReqArr=function(){var e=u.getRuntime();return e&&e[l("g_RunObjList")]||e&&e.g_RunObjList||[]},u.getReqParamObjects=function(){var e=u.getReqArr(),t=[];if(e instanceof Array)for(var n=0,r=e.length;n<r;n++){var o=e[n];t.push(o.params||o[l("params")]||o[l("params_v30")])}return t},u.lookup=function(e){if(u.isJAPI()){var t=window.WTO_JAPI.projects[e];return t&&(t.getParams=t.getParams||function(){return t.Config}),t}var n=u.getRuntime();if(n){var r=n.lookup||n.runMgr&&n.runMgr.lookup;
return r&&r.apply(n,[e])}},u.getDebugObject=function(){return window.WTOptimize&&WTOptimize.Debug||WT&&WT.Debug},u.paramCache={},u.getParam=function(e,t){var n=u.paramCache[e];if(t&&void 0!==n)return n;var r=u.getRuntime()||{},o=u.getParamsDefault()||{},i=u.getReqParamObjects();i=i&&i[0]||{};var a,s=r[l("g_ParamsList")]&&r[l("g_ParamsList")][0]||{},c=u.getParamsLibV4()||{};return void 0!==i[e]?a=i[e]:void 0!==c[e]?a=c[e]:void 0!==o[e]?a=o[e]:void 0!==s[e]&&(a=s[e]),"s_otsServer"===e&&"ots.webtrends.com"===
a&&(a="ots.optimize.webtrends.com"),"0000"===a&&(a=s[e]||c[e]),void 0!==a&&(u.paramCache[e]=a),a},u.getParamsDefault=function(){var e=u.getRuntime()||{};return e[l("g_ConfigParams")]||e.g_ConfigParams},u.getParamsLibV4=function(){return window.WT&&window.WT.optimizeModule&&window.WT.optimizeModule.prototype.wtConfigObj||{}},u.getParams=function(){return u.isRunningOnJAPI()?JAPI.Config:u.getParamsDefault()||{}},u.getRunParam=function(e,t){var n=u.getRunParams(t);return n&&n[e]},u.getRunParams=function(e){var t=
u.lookup(e);return t?t.getParams():{}},u.useTEA=function(){return Boolean(null===u.getVersion().match(/^3\.[0-1]$/i))},u.getDecodeFunc31=function(){var e=u.getLibObj();return e&&(e[l("_decrypt")]||e._decrypt)},u.getDecodeFuncTEA=function(){var e=u.getLibObj();return e&&(e[l("decryptTea")]||e.decryptTea)},u.getEncodeFunc31=function(){var e=u.getLibObj();return e&&(e[l("_encrypt")]||e._encrypt)},u.getEncodeFuncTEA=function(){var e=u.getLibObj();return e&&(e[l("encryptTea")]||e.encryptTea)},u.decode=
function(e,t){var n=Boolean(-1<e.search(/^WT3/i))?u.getDecodeFuncTEA():u.getDecodeFunc31();return n&&n.apply(u.getLibObj(),[e,t||u.getParam("s_keyToken",!0)])},u.decodeTEA=function(e,t){var n=u.getDecodeFuncTEA();if(!n)throw"CL.decodeTEA: decoder function not found";return n.apply(u.getLibObj(),[e,t||u.getParam("s_keyToken",!0)])},u.encode=function(e,t){var n=u.useTEA()?u.getEncodeFuncTEA():u.getEncodeFunc31();return u.encodeWithFunc(n,e,t)},u.encodeWithFunc=function(e,t,n){var r=u.getLibObj();return e&&
e.apply(r,[t,n||u.getParam("s_keyToken",!0)])},u.encodeTEA=function(e,t){var n=u.getEncodeFuncTEA();return u.encodeWithFunc(n,e,t)},u.hasCookieCryptoMismatch=function(){if(-1===u.getVersionInfo().full.search(/3\.[01]\./i))return!1;var e=u.getCookies();for(var t in e)if(e.hasOwnProperty(t))if(-1<e[t].search(/^WT3/i))return!0;return!1},u.getVersionInfo=function(){var e={full:"",major:"",minor:"",inc:""},t=u.getParam("s_capiMajorVersion",!0),n=u.getParam("s_capiMinorVersion",!0),r=u.getParam("s_capiIncVersion",
!0);return e.full=t?[t,n,r].join("."):"",e.major=t,e.minor=n,e.inc=r,e},u.getVersion=function(){var e=u.getVersionInfo(),t=e.major,n=e.minor;return t?t+"."+n:""},u.getVersionFull=function(){return u.getVersionInfo().full},u.getIntegrationFacts=function(){},u.hasTimedOut=function(){var e=u.getRuntime();if(!e)return!1;var t=e.g_PageEndTime||e[l("g_PageEndTime")],n=e.g_PageTimer||e[l("g_PageTimer")];return Boolean(t&&!n)},u.hasAborted=function(){var e=u.getRuntime();return!!e&&(e.g_Aborted||e[l("g_Aborted")])},
u.getConversionFunc=function(){var e=u.getRuntime();return e&&(e.click||e.conversion)||function(){}},u.conversion=function(e){var t=u.getConversionFunc(),n=u.getRuntime(),r=t.length,o=[e.testAlias,e];(1===r||window.WT&&window.WT.optimize)&&(o=[e]),t.apply(n,o)},u.setRunData=function(e,t){var n=u.getRunParam("data",e);if(n)for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},u.getAddEventFunc=function(){var e=u.getRuntime();return window.WT&&window.WT.addEventHandler||e&&e.addEventHandler},u.addEventHandler=
function(e,t,n){var r=u.getRuntime();r&&u.getAddEventFunc().apply(r||window.WT,[e,t,n])},u.hasEventHandler=function(e,t,n){var r=u.getParam("s_eventHandlers"),o=r&&r[e]&&r[e].success;if(o)for(var i=0,a=o.length;i<a;i++){var s=o[i];if(String(s)===String(n))return!0}return!1},u.getMode=function(){var e=u.decodeCookies()["_wt.mode-"+u.getParam("s_domainKey")];return e&&e.value||u.getParam("s_mode")},u.inDebugMode=function(){return Boolean()},u.isActive=function(){var e=u.getRuntime();return Boolean(e&&
e.conversion)},u.getCookies=function(){var e={},t=document.cookie.match(/_wt\.(control|user|mode|conversion|activeSplit)-[^=]+=[^;\s$]+/gi);if(t)for(var n=0,r=t.length;n<r;n++){var o=t[n].split("\x3d"),i=o[0],a=o[1];e[i]=a}return e},u.decodeCookies=function(){var e={};try{var t=u.getCookies();for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],o=u.decode(r);if(o){var i=o&&o.match(/^(?!.*\uFFFD)\{/i)?JSON.parse(o):{};e[n]={value:o,valueObj:i}}}}catch(e$17){console.error(e$17)}return e},u.isUsing3rdPartyCookies=
function(){for(var e=u.getReqParamObjects(),t=0,n=e.length;t<n;t++)if(e[t].use3rdPartyCookies)return!0;return!1},u.isCTag=function(){return Boolean(window.WT&&void 0!==window.WT.optimize)},u.getContextForced=function(e){var t=/_wt\.context=([^#$&;]+)/i,n=(e||window.location.href).match(t),r=document.cookie.match(t),o=n&&n[1];return o&&(o=decodeURIComponent(o)),o||r&&r[1]||""},u.getContextActive=function(){var e=window.WT&&window.WT.getProduct&&window.WT.getProduct("optimize"),t=e&&e.contextName;return t?
"optimize:"+t:"default"},u.contextIsForced=function(){return""!==u.getContextForced()},u.setContextCookie=function(e){document.cookie="_wt.context\x3d"+e+";path\x3d/"},u.contextDelCookie=function(){document.cookie="_wt.context\x3d;path\x3d/;expires\x3d"+(new Date(0)).toUTCString()},u.isRunningOnJAPI=function(){return Boolean("object"==typeof JAPI&&WTOptimize&&WTOptimize.pausePageview)},u.isJAPI=function(){return Boolean("object"==typeof JAPI&&WTOptimize&&WTOptimize.pausePageview)},u.hasJAPI=function(){return void 0!==
window.WTO_JAPI},u.getJAPIVer=function(){return u.hasJAPI()?window.WTO_JAPI.Config.ver:""},u});var l={__internal__:g,config:g.Config,Config:g.Config,exec:g.exec,setLevel:g.setLevel,getLevels:g.getLevels,conversion:g.conversion,addModule:g.addModule,pageview:g.pageview,event:g.event,status:g.status};return l};window.WT.OBF=WTOBF;window.WTOBF=WTOBF}catch(err$18){if(document.cookie.match(/_wt.bdebug=true/i))console.log(err$18)}};
WT.initGA=function(){WT.addEventHandler("pageview",function(e){var projectAlias=e.target.params.testAlias;var _int_o=WT.helpers.findVariationName(projectAlias);var testName=_int_o.testName;var experimentName=_int_o.variationName;window.dataLayer=window.dataLayer||[];if(WT&&WT.helpers&&WT.helpers.findVariationName){var v=WT.helpers.findVariationName(projectAlias,false);experimentName=v.variationName;testName=v.testName}window.dataLayer.push({"event":"optimize_view","project_alias":"".concat(projectAlias),
"test_id":"".concat(testName),"experiment_id":"".concat(experimentName)})})};WT.start();